{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "import graphlab\n",
    "import csv\n",
    "import pandas as pd\n",
    "import pickle"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "# loading total rating data\n",
    "from sklearn import cross_validation as cv\n",
    "total_rating_csv_data= pd.read_csv('https://raw.githubusercontent.com/zygmuntz/goodbooks-10k/master/ratings.csv', sep=',')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "#splitting data into training and testing \n",
    "from sklearn import cross_validation as cv\n",
    "train_data, test_data = cv.train_test_split(total_rating_csv_data, test_size=0.30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# Splitting the training data into validation and training data\n",
    "training,validation=  cv.train_test_split(train_data, test_size=0.20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "#loading total books data\n",
    "total_Bookdata_csv = pd.read_csv('/home/kanika/Documents/3rd_Sem/Machine Learning/project/DATA/mergefullnewdata.csv', sep=',')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "This non-commercial license of GraphLab Create for academic use is assigned to kanika.narang@iiitb.org and will expire on October 13, 2018.\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[INFO] graphlab.cython.cy_server: GraphLab Create v2.1 started. Logging: /tmp/graphlab_server_1511436022.log\n"
     ]
    }
   ],
   "source": [
    "#Converting them to SFrame\n",
    "rating_data=graphlab.SFrame(total_rating_csv_data)\n",
    "book_data= graphlab.SFrame(total_Bookdata_csv)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "#Converting them to SFrame\n",
    "train=graphlab.SFrame(train_data)\n",
    "test=graphlab.SFrame(test_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">Unnamed: 0</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">author</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">description0</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">Language</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">NumberofRatings</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">GoodReadAverageRating</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">J.K. Rowling</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter's life is<br>miserable. His parents ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4879247</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.44</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harper Lee</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The unforgettable novel<br>of a childhood in a ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3368077</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">F. Scott Fitzgerald</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">, F. Scott Fitzgerald’s<br>third book, stands as ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2807803</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.89</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Stephenie Meyer</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">In the first book of the<br>Twilight Saga, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3951638</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.57</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">John Green</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">\"I fell in love the way<br>you fall asleep: slowly, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2518520</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Veronica Roth</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Paperback features over<br>fifty pages of bonus ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2246660</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">J.D. Salinger</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The hero-narrator of </td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2140682</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.79</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">7</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Khaled Hosseini</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Amir is the son of a<br>wealthy Kabul merchan ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1895138</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Jane Austen</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">“It is a truth<br>universally acknowled ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2217374</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">9</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">George Orwell</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The year 1984 has come<br>and gone, but George ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2084082</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.14</td>\n",
       "    </tr>\n",
       "</table>\n",
       "<table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id_original</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">description1</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">title</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_title</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter's life is<br>miserable. His parents ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter and the<br>Philosopher's Stone ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter and the<br>Sorcerer's Stone (Harry ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2657</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Compassionate, dramatic,<br>and deepl ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">To Kill a Mockingbird</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">To Kill a Mockingbird (To<br>Kill a Mockingbird #1) ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4671</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">, F. Scott Fitzgerald’s<br>third book, stands as ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Great Gatsby</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Great Gatsby</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">41865</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">In the first book of the<br>Twilight Saga, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Twilight</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Twilight (Twilight, #1)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11870085</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Despite the tumor-<br>shrinking medical mir ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Fault in Our Stars</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Fault in Our Stars</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13335037</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> playlist, faction<br>manifestos, and more! ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Divergent</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">12</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Divergent (Divergent, #1)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5107</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> is an ancient child of<br>sixteen, a native New ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Catcher in the Rye</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Catcher in the Rye</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">77203</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Amir is the son of a<br>wealthy Kabul merchan ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Kite Runner </td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Kite Runner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1885</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">“It is a truth<br>universally acknowled ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Pride and Prejudice</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">10</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Pride and Prejudice</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5470</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> is still the great<br>modern classic of ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Nineteen Eighty-Four</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1984</td>\n",
       "    </tr>\n",
       "</table>\n",
       "<table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_book_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_work_id</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4640799</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2657</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3275794</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4671</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">245494</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">41865</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3212258</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11870085</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">16827462</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13335037</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13155899</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5107</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3036731</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">77203</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3295919</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1885</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3060926</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5470</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">153313</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[10 rows x 13 columns]<br/>\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tUnnamed: 0\tint\n",
       "\tauthor\tstr\n",
       "\tdescription0\tstr\n",
       "\tLanguage\tstr\n",
       "\tNumberofRatings\tint\n",
       "\tGoodReadAverageRating\tfloat\n",
       "\tbook_id_original\tint\n",
       "\tdescription1\tstr\n",
       "\ttitle\tstr\n",
       "\tbook_id\tint\n",
       "\tgoodreads_title\tstr\n",
       "\tgoodreads_book_id\tint\n",
       "\tgoodreads_work_id\tint\n",
       "\n",
       "Rows: 10\n",
       "\n",
       "Data:\n",
       "+------------+---------------------+-------------------------------+----------+\n",
       "| Unnamed: 0 |        author       |          description0         | Language |\n",
       "+------------+---------------------+-------------------------------+----------+\n",
       "|     0      |     J.K. Rowling    | Harry Potter's life is mis... | English  |\n",
       "|     1      |      Harper Lee     | The unforgettable novel of... | English  |\n",
       "|     2      | F. Scott Fitzgerald | , F. Scott Fitzgerald’s th... | English  |\n",
       "|     3      |   Stephenie Meyer   | In the first book of the T... | English  |\n",
       "|     4      |      John Green     | \"I fell in love the way yo... | English  |\n",
       "|     5      |    Veronica Roth    | Paperback features over fi... | English  |\n",
       "|     6      |    J.D. Salinger    |     The hero-narrator of      | English  |\n",
       "|     7      |   Khaled Hosseini   | Amir is the son of a wealt... | English  |\n",
       "|     8      |     Jane Austen     | “It is a truth universally... | English  |\n",
       "|     9      |    George Orwell    | The year 1984 has come and... | English  |\n",
       "+------------+---------------------+-------------------------------+----------+\n",
       "+-----------------+-----------------------+------------------+\n",
       "| NumberofRatings | GoodReadAverageRating | book_id_original |\n",
       "+-----------------+-----------------------+------------------+\n",
       "|     4879247     |          4.44         |        3         |\n",
       "|     3368077     |          4.26         |       2657       |\n",
       "|     2807803     |          3.89         |       4671       |\n",
       "|     3951638     |          3.57         |      41865       |\n",
       "|     2518520     |          4.26         |     11870085     |\n",
       "|     2246660     |          4.24         |     13335037     |\n",
       "|     2140682     |          3.79         |       5107       |\n",
       "|     1895138     |          4.26         |      77203       |\n",
       "|     2217374     |          4.24         |       1885       |\n",
       "|     2084082     |          4.14         |       5470       |\n",
       "+-----------------+-----------------------+------------------+\n",
       "+-------------------------------+-------------------------------+---------+\n",
       "|          description1         |             title             | book_id |\n",
       "+-------------------------------+-------------------------------+---------+\n",
       "| Harry Potter's life is mis... | Harry Potter and the Philo... |    2    |\n",
       "| Compassionate, dramatic, a... |     To Kill a Mockingbird     |    4    |\n",
       "| , F. Scott Fitzgerald’s th... |        The Great Gatsby       |    5    |\n",
       "| In the first book of the T... |            Twilight           |    3    |\n",
       "| Despite the tumor-shrinkin... |     The Fault in Our Stars    |    6    |\n",
       "|  playlist, faction manifes... |           Divergent           |    12   |\n",
       "|  is an ancient child of si... |     The Catcher in the Rye    |    8    |\n",
       "| Amir is the son of a wealt... |        The Kite Runner        |    11   |\n",
       "| “It is a truth universally... |      Pride and Prejudice      |    10   |\n",
       "|  is still the great modern... |      Nineteen Eighty-Four     |    13   |\n",
       "+-------------------------------+-------------------------------+---------+\n",
       "+-------------------------------+-------------------+-------------------+\n",
       "|        goodreads_title        | goodreads_book_id | goodreads_work_id |\n",
       "+-------------------------------+-------------------+-------------------+\n",
       "| Harry Potter and the Sorce... |         3         |      4640799      |\n",
       "| To Kill a Mockingbird (To ... |        2657       |      3275794      |\n",
       "|        The Great Gatsby       |        4671       |       245494      |\n",
       "|    Twilight (Twilight, #1)    |       41865       |      3212258      |\n",
       "|     The Fault in Our Stars    |      11870085     |      16827462     |\n",
       "|   Divergent (Divergent, #1)   |      13335037     |      13155899     |\n",
       "|     The Catcher in the Rye    |        5107       |      3036731      |\n",
       "|        The Kite Runner        |       77203       |      3295919      |\n",
       "|      Pride and Prejudice      |        1885       |      3060926      |\n",
       "|              1984             |        5470       |       153313      |\n",
       "+-------------------------------+-------------------+-------------------+\n",
       "[10 rows x 13 columns]"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "book_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "#Converting them to SFrame\n",
    "training_data=graphlab.SFrame(training)\n",
    "validation_data=graphlab.SFrame(validation)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>Recsys training: model = item_similarity</pre>"
      ],
      "text/plain": [
       "Recsys training: model = item_similarity"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Preparing data set.</pre>"
      ],
      "text/plain": [
       "Preparing data set."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data has 4183535 observations with 53424 users and 10000 items.</pre>"
      ],
      "text/plain": [
       "    Data has 4183535 observations with 53424 users and 10000 items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data prepared in: 7.6675s</pre>"
      ],
      "text/plain": [
       "    Data prepared in: 7.6675s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Training model from provided data.</pre>"
      ],
      "text/plain": [
       "Training model from provided data."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Gathering per-item and per-user statistics.</pre>"
      ],
      "text/plain": [
       "Gathering per-item and per-user statistics."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+------------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Elapsed Time (Item Statistics) | % Complete |</pre>"
      ],
      "text/plain": [
       "| Elapsed Time (Item Statistics) | % Complete |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+------------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 39.396ms                       | 1.75       |</pre>"
      ],
      "text/plain": [
       "| 39.396ms                       | 1.75       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 592.377ms                      | 100        |</pre>"
      ],
      "text/plain": [
       "| 592.377ms                      | 100        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+------------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Setting up lookup tables.</pre>"
      ],
      "text/plain": [
       "Setting up lookup tables."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Processing data in one pass using dense lookup tables.</pre>"
      ],
      "text/plain": [
       "Processing data in one pass using dense lookup tables."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+-------------------------------------+------------------+-----------------+</pre>"
      ],
      "text/plain": [
       "+-------------------------------------+------------------+-----------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Elapsed Time (Constructing Lookups) | Total % Complete | Items Processed |</pre>"
      ],
      "text/plain": [
       "| Elapsed Time (Constructing Lookups) | Total % Complete | Items Processed |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+-------------------------------------+------------------+-----------------+</pre>"
      ],
      "text/plain": [
       "+-------------------------------------+------------------+-----------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4.74s                               | 5.75             | 587             |</pre>"
      ],
      "text/plain": [
       "| 4.74s                               | 5.75             | 587             |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7.87s                               | 35.5             | 3553            |</pre>"
      ],
      "text/plain": [
       "| 7.87s                               | 35.5             | 3553            |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8.88s                               | 51               | 5118            |</pre>"
      ],
      "text/plain": [
       "| 8.88s                               | 51               | 5118            |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 9.88s                               | 66.5             | 6654            |</pre>"
      ],
      "text/plain": [
       "| 9.88s                               | 66.5             | 6654            |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 10.88s                              | 82               | 8214            |</pre>"
      ],
      "text/plain": [
       "| 10.88s                              | 82               | 8214            |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 11.88s                              | 96.75            | 9676            |</pre>"
      ],
      "text/plain": [
       "| 11.88s                              | 96.75            | 9676            |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 13.73s                              | 100              | 10000           |</pre>"
      ],
      "text/plain": [
       "| 13.73s                              | 100              | 10000           |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+-------------------------------------+------------------+-----------------+</pre>"
      ],
      "text/plain": [
       "+-------------------------------------+------------------+-----------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Finalizing lookup tables.</pre>"
      ],
      "text/plain": [
       "Finalizing lookup tables."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Generating candidate set for working with new users.</pre>"
      ],
      "text/plain": [
       "Generating candidate set for working with new users."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Finished training in 16.9721s</pre>"
      ],
      "text/plain": [
       "Finished training in 16.9721s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#creating collaborative model\n",
    "item_sim_model = graphlab.item_similarity_recommender.create(train, user_id='user_id', item_id='book_id', target='rating', similarity_type='pearson')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Class                            : ItemSimilarityRecommender\n",
       "\n",
       "Schema\n",
       "------\n",
       "User ID                          : user_id\n",
       "Item ID                          : book_id\n",
       "Target                           : rating\n",
       "Additional observation features  : 0\n",
       "User side features               : []\n",
       "Item side features               : []\n",
       "\n",
       "Statistics\n",
       "----------\n",
       "Number of observations           : 4183535\n",
       "Number of users                  : 53424\n",
       "Number of items                  : 10000\n",
       "\n",
       "Training summary\n",
       "----------------\n",
       "Training time                    : 29.8588\n",
       "\n",
       "Model Parameters\n",
       "----------------\n",
       "Model class                      : ItemSimilarityRecommender\n",
       "threshold                        : 0.001\n",
       "similarity_type                  : pearson\n",
       "training_method                  : auto\n",
       "\n",
       "Other Settings\n",
       "--------------\n",
       "degree_approximation_threshold   : 4096\n",
       "sparse_density_estimation_sample_size : 4096\n",
       "max_data_passes                  : 4096\n",
       "target_memory_usage              : 8589934592\n",
       "seed_item_set_size               : 50\n",
       "nearest_neighbors_interaction_proportion_threshold : 0.05\n",
       "max_item_neighborhood_size       : 64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "item_sim_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'degree_approximation_threshold': 4096,\n",
       " 'item_id': 'book_id',\n",
       " 'max_data_passes': 4096,\n",
       " 'max_item_neighborhood_size': 64,\n",
       " 'nearest_neighbors_interaction_proportion_threshold': 0.05,\n",
       " 'seed_item_set_size': 50,\n",
       " 'similarity_type': 'pearson',\n",
       " 'sparse_density_estimation_sample_size': 4096,\n",
       " 'target': 'rating',\n",
       " 'target_memory_usage': 8589934592,\n",
       " 'threshold': 0.001,\n",
       " 'training_method': 'auto',\n",
       " 'user_id': 'user_id'}"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "item_sim_model.get_current_options()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "** Using the above Trained Item Similarity Model **"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Making recommendations**\n",
    "\n",
    "The trained model can now make recommendations of new items for users. To do so, call model.recommend() with an SArray of user ids. If users is set to None, then model.recommend() will make recommendations for all the users seen during training, automatically excluding the items that are observed for each user. In other words, if data contains a row \"Alice, The Great Gatsby\", then model.recommend() will not recommend \"The Great Gatsby\" for user \"Alice\". It will return at most k new items for each user, sorted by their rank. It will return fewer than k items if there are not enough items that the user has not already rated or seen.\n",
    "\n",
    "The score column of the output contains the unnormalized prediction scores for each user-item pair. The semantic meanings of these scores may differ between models. For the linear regression model, for instance, a higher average score for a user means that the model thinks that this user is generally more enthusiastic than others."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53424 queries. users per second: 8454.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53424 queries. users per second: 8454.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53424 queries. users per second: 7836.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53424 queries. users per second: 7836.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53424 queries. users per second: 8101.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53424 queries. users per second: 8101.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53424 queries. users per second: 8383.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53424 queries. users per second: 8383.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53424 queries. users per second: 8603.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53424 queries. users per second: 8603.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53424 queries. users per second: 8645.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53424 queries. users per second: 8645.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53424 queries. users per second: 8731.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53424 queries. users per second: 8731.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53424 queries. users per second: 8796.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53424 queries. users per second: 8796.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53424 queries. users per second: 8890.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53424 queries. users per second: 8890.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53424 queries. users per second: 8955.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53424 queries. users per second: 8955.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53424 queries. users per second: 8963.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53424 queries. users per second: 8963.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53424 queries. users per second: 8912.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53424 queries. users per second: 8912.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53424 queries. users per second: 8938.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53424 queries. users per second: 8938.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53424 queries. users per second: 8959.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53424 queries. users per second: 8959.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53424 queries. users per second: 8920.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53424 queries. users per second: 8920.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53424 queries. users per second: 8828.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53424 queries. users per second: 8828.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53424 queries. users per second: 8804.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53424 queries. users per second: 8804.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53424 queries. users per second: 8807.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53424 queries. users per second: 8807.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53424 queries. users per second: 8732.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53424 queries. users per second: 8732.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53424 queries. users per second: 8646.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53424 queries. users per second: 8646.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53424 queries. users per second: 8652.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53424 queries. users per second: 8652.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53424 queries. users per second: 8664.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53424 queries. users per second: 8664.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53424 queries. users per second: 8685.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53424 queries. users per second: 8685.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53424 queries. users per second: 8684.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53424 queries. users per second: 8684.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53424 queries. users per second: 8656.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53424 queries. users per second: 8656.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53424 queries. users per second: 8671.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53424 queries. users per second: 8671.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53424 queries. users per second: 8667.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53424 queries. users per second: 8667.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53424 queries. users per second: 8688.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53424 queries. users per second: 8688.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53424 queries. users per second: 8704.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53424 queries. users per second: 8704.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53424 queries. users per second: 8693.62</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53424 queries. users per second: 8693.62"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53424 queries. users per second: 8677.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53424 queries. users per second: 8677.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53424 queries. users per second: 8660.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53424 queries. users per second: 8660.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53424 queries. users per second: 8652.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53424 queries. users per second: 8652.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53424 queries. users per second: 8644.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53424 queries. users per second: 8644.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53424 queries. users per second: 8667.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53424 queries. users per second: 8667.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53424 queries. users per second: 8686.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53424 queries. users per second: 8686.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53424 queries. users per second: 8695.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53424 queries. users per second: 8695.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53424 queries. users per second: 8705.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53424 queries. users per second: 8705.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53424 queries. users per second: 8716.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53424 queries. users per second: 8716.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53424 queries. users per second: 8726.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53424 queries. users per second: 8726.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53424 queries. users per second: 8735.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53424 queries. users per second: 8735.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53424 queries. users per second: 8752.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53424 queries. users per second: 8752.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53424 queries. users per second: 8722.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53424 queries. users per second: 8722.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53424 queries. users per second: 8720.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53424 queries. users per second: 8720.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53424 queries. users per second: 8724.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53424 queries. users per second: 8724.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53424 queries. users per second: 8732.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53424 queries. users per second: 8732.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53424 queries. users per second: 8716.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53424 queries. users per second: 8716.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53424 queries. users per second: 8728.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53424 queries. users per second: 8728.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53424 queries. users per second: 8735.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53424 queries. users per second: 8735.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53424 queries. users per second: 8747.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53424 queries. users per second: 8747.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53424 queries. users per second: 8744.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53424 queries. users per second: 8744.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53424 queries. users per second: 8687.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53424 queries. users per second: 8687.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53424 queries. users per second: 8552.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53424 queries. users per second: 8552.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "recom=item_sim_model.recommend()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "+---------+---------+---------------+------+\n",
      "| user_id | book_id |     score     | rank |\n",
      "+---------+---------+---------------+------+\n",
      "|  15649  |   7947  | 4.85074626866 |  1   |\n",
      "|  15649  |   3628  | 4.80981595092 |  2   |\n",
      "|  15649  |   9806  |  4.8085106383 |  3   |\n",
      "|  15649  |   8978  | 4.78861788618 |  4   |\n",
      "|  15649  |   6920  | 4.78260869565 |  5   |\n",
      "|  15649  |   9566  | 4.76923076923 |  6   |\n",
      "|  15649  |   1788  | 4.75545851528 |  7   |\n",
      "|  15649  |   6361  | 4.74345549738 |  8   |\n",
      "|  15649  |   4483  | 4.73992673993 |  9   |\n",
      "|  15649  |   6590  |     4.7375    |  10  |\n",
      "|   2795  |   7947  | 4.85074626866 |  1   |\n",
      "|   2795  |   3628  | 4.80993043016 |  2   |\n",
      "|   2795  |   9806  |  4.8085106383 |  3   |\n",
      "|   2795  |   8978  | 4.78861788618 |  4   |\n",
      "|   2795  |   6920  | 4.78260869565 |  5   |\n",
      "|   2795  |   9566  | 4.76923076923 |  6   |\n",
      "|   2795  |   1788  | 4.75606341983 |  7   |\n",
      "|   2795  |   6361  | 4.74345549738 |  8   |\n",
      "|   2795  |   4483  | 4.73992673993 |  9   |\n",
      "|   2795  |   6590  |     4.7375    |  10  |\n",
      "|  31005  |   7947  | 4.85030985726 |  1   |\n",
      "|  31005  |   3628  | 4.81059883394 |  2   |\n",
      "|  31005  |   9806  |  4.8085106383 |  3   |\n",
      "|  31005  |   8978  | 4.78861788618 |  4   |\n",
      "|  31005  |   6920  | 4.78260869565 |  5   |\n",
      "|  31005  |   9566  | 4.76925848394 |  6   |\n",
      "|  31005  |   1788  | 4.75618472665 |  7   |\n",
      "|  31005  |   6361  | 4.74345549738 |  8   |\n",
      "|  31005  |   4483  | 4.74188392895 |  9   |\n",
      "|  31005  |   6590  |     4.7375    |  10  |\n",
      "|  36606  |   7947  | 4.85074626866 |  1   |\n",
      "|  36606  |   3628  | 4.80981595092 |  2   |\n",
      "|  36606  |   9806  |  4.8085106383 |  3   |\n",
      "|  36606  |   8978  | 4.78861788618 |  4   |\n",
      "|  36606  |   6920  | 4.78260869565 |  5   |\n",
      "|  36606  |   9566  | 4.76923076923 |  6   |\n",
      "|  36606  |   1788  | 4.75545851528 |  7   |\n",
      "|  36606  |   6361  | 4.74345549738 |  8   |\n",
      "|  36606  |   4483  | 4.73998134862 |  9   |\n",
      "|  36606  |   6590  |     4.7375    |  10  |\n",
      "|  26525  |   7947  | 4.85074626866 |  1   |\n",
      "|  26525  |   3628  | 4.80927253017 |  2   |\n",
      "|  26525  |   9806  | 4.80886163732 |  3   |\n",
      "|  26525  |   8978  | 4.78866632855 |  4   |\n",
      "|  26525  |   6920  | 4.78260869565 |  5   |\n",
      "|  26525  |   9566  | 4.76923076923 |  6   |\n",
      "|  26525  |   1788  | 4.75500266706 |  7   |\n",
      "|  26525  |   6361  | 4.74345549738 |  8   |\n",
      "|  26525  |   4483  | 4.73992673993 |  9   |\n",
      "|  26525  |   6590  |     4.7375    |  10  |\n",
      "|  27136  |   7947  | 4.85116843589 |  1   |\n",
      "|  27136  |   3628  | 4.80981595092 |  2   |\n",
      "|  27136  |   9806  |  4.8085106383 |  3   |\n",
      "|  27136  |   8978  | 4.78861788618 |  4   |\n",
      "|  27136  |   6920  | 4.78260869565 |  5   |\n",
      "|  27136  |   9566  | 4.76923076923 |  6   |\n",
      "|  27136  |   1788  | 4.75545851528 |  7   |\n",
      "|  27136  |   6361  | 4.74345549738 |  8   |\n",
      "|  27136  |   4483  | 4.73932499907 |  9   |\n",
      "|  27136  |   6590  |     4.7375    |  10  |\n",
      "|  35088  |   7947  | 4.85074626866 |  1   |\n",
      "|  35088  |   3628  | 4.81048340029 |  2   |\n",
      "|  35088  |   9806  |  4.8085106383 |  3   |\n",
      "|  35088  |   8978  | 4.78861788618 |  4   |\n",
      "|  35088  |   6920  | 4.78260869565 |  5   |\n",
      "|  35088  |   9566  | 4.76923076923 |  6   |\n",
      "|  35088  |   1788  | 4.75601827282 |  7   |\n",
      "|  35088  |   6361  | 4.74345549738 |  8   |\n",
      "|  35088  |   4483  | 4.73992673993 |  9   |\n",
      "|  35088  |   6590  |     4.7375    |  10  |\n",
      "|  52819  |   7947  | 4.84827184938 |  1   |\n",
      "|  52819  |   3628  | 4.80967362457 |  2   |\n",
      "|  52819  |   9806  |  4.8085106383 |  3   |\n",
      "|  52819  |   8978  | 4.78861788618 |  4   |\n",
      "|  52819  |   6920  | 4.78260869565 |  5   |\n",
      "|  52819  |   9566  | 4.76882259583 |  6   |\n",
      "|  52819  |   1788  | 4.75545851528 |  7   |\n",
      "|  52819  |   6361  | 4.74345549738 |  8   |\n",
      "|  52819  |   4483  |  4.7403571093 |  9   |\n",
      "|  52819  |   6590  |     4.7375    |  10  |\n",
      "|  18150  |   7947  | 4.85074626866 |  1   |\n",
      "|  18150  |   3628  | 4.80970789586 |  2   |\n",
      "|  18150  |   9806  |  4.8085106383 |  3   |\n",
      "|  18150  |   8978  | 4.78861788618 |  4   |\n",
      "|  18150  |   6920  | 4.78260869565 |  5   |\n",
      "|  18150  |   9566  | 4.76923076923 |  6   |\n",
      "|  18150  |   1788  | 4.75536789418 |  7   |\n",
      "|  18150  |   6361  | 4.74345549738 |  8   |\n",
      "|  18150  |   4483  | 4.74013709533 |  9   |\n",
      "|  18150  |   6590  |     4.7375    |  10  |\n",
      "|  33208  |   7947  | 4.85074626866 |  1   |\n",
      "|  33208  |   3628  | 4.80981595092 |  2   |\n",
      "|  33208  |   9806  |  4.8085106383 |  3   |\n",
      "|  33208  |   8978  | 4.78861788618 |  4   |\n",
      "|  33208  |   6920  | 4.78260869565 |  5   |\n",
      "|  33208  |   9566  | 4.76923076923 |  6   |\n",
      "|  33208  |   1788  | 4.75545851528 |  7   |\n",
      "|  33208  |   6361  | 4.74345549738 |  8   |\n",
      "|  33208  |   4483  | 4.74011932534 |  9   |\n",
      "|  33208  |   6590  |     4.7375    |  10  |\n",
      "|  19911  |   7947  | 4.85074626866 |  1   |\n",
      "|  19911  |   3628  | 4.81050507975 |  2   |\n",
      "|  19911  |   9806  |  4.8085106383 |  3   |\n",
      "|  19911  |   8978  | 4.78861788618 |  4   |\n",
      "|  19911  |   6920  | 4.78260869565 |  5   |\n",
      "|  19911  |   9566  | 4.76923076923 |  6   |\n",
      "|  19911  |   1788  | 4.75545851528 |  7   |\n",
      "|  19911  |   6361  | 4.74345549738 |  8   |\n",
      "|  19911  |   4483  |  4.739743711  |  9   |\n",
      "|  19911  |   6590  |     4.7375    |  10  |\n",
      "|  16076  |   7947  | 4.85074626866 |  1   |\n",
      "|  16076  |   3628  | 4.80953947283 |  2   |\n",
      "|  16076  |   9806  |  4.8085106383 |  3   |\n",
      "|  16076  |   8978  | 4.78861788618 |  4   |\n",
      "|  16076  |   6920  | 4.78260869565 |  5   |\n",
      "|  16076  |   9566  | 4.76923076923 |  6   |\n",
      "|  16076  |   1788  | 4.75545851528 |  7   |\n",
      "|  16076  |   6361  | 4.74345549738 |  8   |\n",
      "|  16076  |   4483  |  4.7401157301 |  9   |\n",
      "|  16076  |   6590  |     4.7375    |  10  |\n",
      "|  48311  |   7947  | 4.85074626866 |  1   |\n",
      "|  48311  |   3628  | 4.80981595092 |  2   |\n",
      "|  48311  |   9806  |  4.8085106383 |  3   |\n",
      "|  48311  |   8978  | 4.78861788618 |  4   |\n",
      "|  48311  |   6920  | 4.78260869565 |  5   |\n",
      "|  48311  |   9566  | 4.76923076923 |  6   |\n",
      "|  48311  |   1788  | 4.75545851528 |  7   |\n",
      "|  48311  |   6361  | 4.74345549738 |  8   |\n",
      "|  48311  |   4483  | 4.73992673993 |  9   |\n",
      "|  48311  |   6590  |     4.7375    |  10  |\n",
      "|   2103  |   7947  | 4.85113598216 |  1   |\n",
      "|   2103  |   3628  | 4.80985509914 |  2   |\n",
      "|   2103  |   9806  |  4.8085106383 |  3   |\n",
      "|   2103  |   8978  | 4.78861788618 |  4   |\n",
      "|   2103  |   6920  | 4.78260869565 |  5   |\n",
      "|   2103  |   9566  | 4.76923076923 |  6   |\n",
      "|   2103  |   1788  | 4.75545851528 |  7   |\n",
      "|   2103  |   6361  | 4.74354476623 |  8   |\n",
      "|   2103  |   4483  | 4.74023228136 |  9   |\n",
      "|   2103  |   6590  |     4.7375    |  10  |\n",
      "|  44865  |   7947  | 4.85074626866 |  1   |\n",
      "|  44865  |   3628  | 4.80981595092 |  2   |\n",
      "|  44865  |   9806  |  4.8085106383 |  3   |\n",
      "|  44865  |   8978  | 4.78861788618 |  4   |\n",
      "|  44865  |   6920  | 4.78260869565 |  5   |\n",
      "|  44865  |   9566  | 4.76923076923 |  6   |\n",
      "|  44865  |   1788  | 4.75545851528 |  7   |\n",
      "|  44865  |   6361  | 4.74345549738 |  8   |\n",
      "|  44865  |   4483  | 4.74071811556 |  9   |\n",
      "|  44865  |   6590  |     4.7375    |  10  |\n",
      "|  34589  |   7947  | 4.85074626866 |  1   |\n",
      "|  34589  |   3628  | 4.80981595092 |  2   |\n",
      "|  34589  |   9806  |  4.8085106383 |  3   |\n",
      "|  34589  |   8978  | 4.78861788618 |  4   |\n",
      "|  34589  |   6920  | 4.78260869565 |  5   |\n",
      "|  34589  |   9566  | 4.76923076923 |  6   |\n",
      "|  34589  |   1788  | 4.75545851528 |  7   |\n",
      "|  34589  |   6361  | 4.74345549738 |  8   |\n",
      "|  34589  |   4483  | 4.73992673993 |  9   |\n",
      "|  34589  |   6590  |     4.7375    |  10  |\n",
      "|   1994  |   7947  | 4.85074626866 |  1   |\n",
      "|   1994  |   3628  | 4.80867988802 |  2   |\n",
      "|   1994  |   9806  | 4.80761609504 |  3   |\n",
      "|   1994  |   8978  | 4.78861788618 |  4   |\n",
      "|   1994  |   6920  | 4.78260869565 |  5   |\n",
      "|   1994  |   9566  | 4.76966911588 |  6   |\n",
      "|   1994  |   1788  | 4.75545851528 |  7   |\n",
      "|   1994  |   6361  | 4.74345549738 |  8   |\n",
      "|   1994  |   4483  | 4.73957125837 |  9   |\n",
      "|   1994  |   6590  |     4.7375    |  10  |\n",
      "|  44689  |   7947  | 4.85074626866 |  1   |\n",
      "|  44689  |   3628  | 4.80981595092 |  2   |\n",
      "|  44689  |   9806  |  4.8085106383 |  3   |\n",
      "|  44689  |   8978  | 4.78861788618 |  4   |\n",
      "|  44689  |   6920  | 4.78260869565 |  5   |\n",
      "|  44689  |   9566  | 4.76923076923 |  6   |\n",
      "|  44689  |   1788  | 4.75545851528 |  7   |\n",
      "|  44689  |   6361  | 4.74359603094 |  8   |\n",
      "|  44689  |   4483  | 4.73992673993 |  9   |\n",
      "|  44689  |   6590  |     4.7375    |  10  |\n",
      "|  30833  |   7947  | 4.85074626866 |  1   |\n",
      "|  30833  |   3628  | 4.80939088439 |  2   |\n",
      "|  30833  |   9806  | 4.80789779413 |  3   |\n",
      "|  30833  |   8978  | 4.78861788618 |  4   |\n",
      "|  30833  |   6920  | 4.78239389835 |  5   |\n",
      "|  30833  |   9566  | 4.76923076923 |  6   |\n",
      "|  30833  |   1788  | 4.75517351685 |  7   |\n",
      "|  30833  |   6361  | 4.74345549738 |  8   |\n",
      "|  30833  |   4483  | 4.73956323936 |  9   |\n",
      "|  30833  |   6590  |     4.7375    |  10  |\n",
      "|   7298  |   7947  | 4.85074626866 |  1   |\n",
      "|   7298  |   3628  | 4.80981595092 |  2   |\n",
      "|   7298  |   9806  |  4.8085106383 |  3   |\n",
      "|   7298  |   8978  | 4.78861788618 |  4   |\n",
      "|   7298  |   6920  | 4.78260869565 |  5   |\n",
      "|   7298  |   9566  | 4.76923076923 |  6   |\n",
      "|   7298  |   1788  | 4.75545851528 |  7   |\n",
      "|   7298  |   6361  | 4.74345549738 |  8   |\n",
      "|   7298  |   4483  | 4.73994797379 |  9   |\n",
      "|   7298  |   6590  |     4.7375    |  10  |\n",
      "|  19554  |   7947  | 4.85079557592 |  1   |\n",
      "|  19554  |   3628  | 4.80984006619 |  2   |\n",
      "|  19554  |   9806  |  4.8085106383 |  3   |\n",
      "|  19554  |   8978  | 4.78861788618 |  4   |\n",
      "|  19554  |   6920  | 4.78260869565 |  5   |\n",
      "|  19554  |   9566  | 4.76935042802 |  6   |\n",
      "|  19554  |   1788  | 4.75547628348 |  7   |\n",
      "|  19554  |   6361  | 4.74345549738 |  8   |\n",
      "|  19554  |   4483  | 4.73992673993 |  9   |\n",
      "|  19554  |   6590  | 4.73714218511 |  10  |\n",
      "|  42114  |   7947  | 4.85074626866 |  1   |\n",
      "|  42114  |   3628  | 4.80981595092 |  2   |\n",
      "|  42114  |   9806  |  4.8085106383 |  3   |\n",
      "|  42114  |   8978  | 4.78861788618 |  4   |\n",
      "|  42114  |   6920  | 4.78260869565 |  5   |\n",
      "|  42114  |   9566  | 4.76923076923 |  6   |\n",
      "|  42114  |   1788  | 4.75545851528 |  7   |\n",
      "|  42114  |   6361  | 4.74345549738 |  8   |\n",
      "|  42114  |   4483  | 4.73992673993 |  9   |\n",
      "|  42114  |   6590  |     4.7375    |  10  |\n",
      "|  33808  |   7947  | 4.85074626866 |  1   |\n",
      "|  33808  |   3628  | 4.80981595092 |  2   |\n",
      "|  33808  |   9806  | 4.80830898585 |  3   |\n",
      "|  33808  |   8978  | 4.78861788618 |  4   |\n",
      "|  33808  |   6920  | 4.78260869565 |  5   |\n",
      "|  33808  |   9566  | 4.76923076923 |  6   |\n",
      "|  33808  |   1788  | 4.75545851528 |  7   |\n",
      "|  33808  |   6361  | 4.74320106035 |  8   |\n",
      "|  33808  |   4483  | 4.73992851112 |  9   |\n",
      "|  33808  |   6590  |     4.7375    |  10  |\n",
      "|  47696  |   7947  | 4.85074626866 |  1   |\n",
      "|  47696  |   3628  | 4.80902278835 |  2   |\n",
      "|  47696  |   9806  |  4.8085106383 |  3   |\n",
      "|  47696  |   8978  | 4.78861788618 |  4   |\n",
      "|  47696  |   6920  | 4.78260869565 |  5   |\n",
      "|  47696  |   9566  | 4.76923076923 |  6   |\n",
      "|  47696  |   1788  | 4.75480011615 |  7   |\n",
      "|  47696  |   6361  | 4.74345549738 |  8   |\n",
      "|  47696  |   4483  | 4.73992673993 |  9   |\n",
      "|  47696  |   6590  |     4.7375    |  10  |\n",
      "|  30471  |   7947  | 4.85074626866 |  1   |\n",
      "|  30471  |   3628  | 4.80981595092 |  2   |\n",
      "|  30471  |   9806  |  4.8085106383 |  3   |\n",
      "|  30471  |   8978  | 4.78861788618 |  4   |\n",
      "|  30471  |   6920  | 4.78260869565 |  5   |\n",
      "|  30471  |   9566  | 4.76923076923 |  6   |\n",
      "|  30471  |   1788  | 4.75545851528 |  7   |\n",
      "|  30471  |   6361  | 4.74345549738 |  8   |\n",
      "|  30471  |   4483  | 4.73992673993 |  9   |\n",
      "|  30471  |   6590  |     4.7375    |  10  |\n",
      "|  36100  |   7947  | 4.85074626866 |  1   |\n",
      "|  36100  |   3628  | 4.80981595092 |  2   |\n",
      "|  36100  |   9806  |  4.8085106383 |  3   |\n",
      "|  36100  |   8978  | 4.78903765081 |  4   |\n",
      "|  36100  |   6920  | 4.78260869565 |  5   |\n",
      "|  36100  |   9566  | 4.76923076923 |  6   |\n",
      "|  36100  |   1788  | 4.75545851528 |  7   |\n",
      "|  36100  |   6361  | 4.74345549738 |  8   |\n",
      "|  36100  |   4483  | 4.73929623194 |  9   |\n",
      "|  36100  |   6590  |     4.7375    |  10  |\n",
      "|  25919  |   7947  | 4.85074626866 |  1   |\n",
      "|  25919  |   3628  | 4.80981595092 |  2   |\n",
      "|  25919  |   9806  |  4.8085106383 |  3   |\n",
      "|  25919  |   8978  | 4.78861788618 |  4   |\n",
      "|  25919  |   6920  | 4.78260869565 |  5   |\n",
      "|  25919  |   9566  | 4.76923076923 |  6   |\n",
      "|  25919  |   1788  | 4.75545851528 |  7   |\n",
      "|  25919  |   6361  | 4.74345549738 |  8   |\n",
      "|  25919  |   4483  | 4.73992673993 |  9   |\n",
      "|  25919  |   6590  |     4.7375    |  10  |\n",
      "|  31638  |   7947  | 4.85074626866 |  1   |\n",
      "|  31638  |   3628  | 4.81031386374 |  2   |\n",
      "|  31638  |   9806  |  4.8085106383 |  3   |\n",
      "|  31638  |   8978  | 4.78861788618 |  4   |\n",
      "|  31638  |   6920  | 4.78260869565 |  5   |\n",
      "|  31638  |   9566  | 4.76923076923 |  6   |\n",
      "|  31638  |   1788  | 4.75586190055 |  7   |\n",
      "|  31638  |   6361  | 4.74345549738 |  8   |\n",
      "|  31638  |   4483  | 4.74052611394 |  9   |\n",
      "|  31638  |   6590  |     4.7375    |  10  |\n",
      "|  42557  |   7947  | 4.85074626866 |  1   |\n",
      "|  42557  |   3628  | 4.81022300832 |  2   |\n",
      "|  42557  |   9806  |  4.8085106383 |  3   |\n",
      "|  42557  |   8978  | 4.78861788618 |  4   |\n",
      "|  42557  |   6920  | 4.78260869565 |  5   |\n",
      "|  42557  |   9566  | 4.76923076923 |  6   |\n",
      "|  42557  |   1788  | 4.75545851528 |  7   |\n",
      "|  42557  |   6361  | 4.74345549738 |  8   |\n",
      "|  42557  |   4483  | 4.73992673993 |  9   |\n",
      "|  42557  |   6590  |     4.7375    |  10  |\n",
      "|  26334  |   7947  | 4.84980163722 |  1   |\n",
      "|  26334  |   3628  | 4.80940262464 |  2   |\n",
      "|  26334  |   9806  |  4.8085106383 |  3   |\n",
      "|  26334  |   8978  | 4.78861788618 |  4   |\n",
      "|  26334  |   6920  | 4.78260869565 |  5   |\n",
      "|  26334  |   9566  | 4.76923076923 |  6   |\n",
      "|  26334  |   1788  | 4.75512801888 |  7   |\n",
      "|  26334  |   6361  | 4.74307361255 |  8   |\n",
      "|  26334  |   4483  | 4.74050101294 |  9   |\n",
      "|  26334  |   6590  | 4.73775589551 |  10  |\n",
      "|  37249  |   7947  | 4.85074626866 |  1   |\n",
      "|  37249  |   3628  | 4.80981595092 |  2   |\n",
      "|  37249  |   9806  |  4.8085106383 |  3   |\n",
      "|  37249  |   8978  | 4.78861788618 |  4   |\n",
      "|  37249  |   6920  | 4.78260869565 |  5   |\n",
      "|  37249  |   9566  | 4.76923076923 |  6   |\n",
      "|  37249  |   1788  | 4.75545851528 |  7   |\n",
      "|  37249  |   6361  | 4.74345549738 |  8   |\n",
      "|  37249  |   4483  |  4.7387611228 |  9   |\n",
      "|  37249  |   6590  |     4.7375    |  10  |\n",
      "|   1689  |   7947  | 4.85042003694 |  1   |\n",
      "|   1689  |   3628  | 4.80975474529 |  2   |\n",
      "|   1689  |   9806  |  4.8085106383 |  3   |\n",
      "|   1689  |   8978  | 4.78861788618 |  4   |\n",
      "|   1689  |   6920  | 4.78260869565 |  5   |\n",
      "|   1689  |   9566  | 4.76923076923 |  6   |\n",
      "|   1689  |   1788  | 4.75545851528 |  7   |\n",
      "|   1689  |   6361  | 4.74336872017 |  8   |\n",
      "|   1689  |   4483  | 4.73977234304 |  9   |\n",
      "|   1689  |   6590  | 4.73717580676 |  10  |\n",
      "|   2673  |   7947  | 4.85074626866 |  1   |\n",
      "|   2673  |   3628  | 4.80981595092 |  2   |\n",
      "|   2673  |   9806  |  4.8085106383 |  3   |\n",
      "|   2673  |   8978  | 4.78861788618 |  4   |\n",
      "|   2673  |   6920  | 4.78260869565 |  5   |\n",
      "|   2673  |   9566  | 4.76923076923 |  6   |\n",
      "|   2673  |   1788  | 4.75545851528 |  7   |\n",
      "|   2673  |   6361  | 4.74345549738 |  8   |\n",
      "|   2673  |   4483  | 4.73955378758 |  9   |\n",
      "|   2673  |   6590  |     4.7375    |  10  |\n",
      "|  48435  |   7947  | 4.85074626866 |  1   |\n",
      "|  48435  |   3628  | 4.80981595092 |  2   |\n",
      "|  48435  |   9806  |  4.8085106383 |  3   |\n",
      "|  48435  |   8978  | 4.78861788618 |  4   |\n",
      "|  48435  |   6920  | 4.78260869565 |  5   |\n",
      "|  48435  |   9566  | 4.76923076923 |  6   |\n",
      "|  48435  |   1788  | 4.75545851528 |  7   |\n",
      "|  48435  |   6361  | 4.74345549738 |  8   |\n",
      "|  48435  |   4483  | 4.73992673993 |  9   |\n",
      "|  48435  |   6590  |     4.7375    |  10  |\n",
      "|  21572  |   7947  | 4.85108395828 |  1   |\n",
      "|  21572  |   3628  | 4.80981595092 |  2   |\n",
      "|  21572  |   9806  |  4.8085106383 |  3   |\n",
      "|  21572  |   8978  | 4.78863021261 |  4   |\n",
      "|  21572  |   6920  | 4.78260869565 |  5   |\n",
      "|  21572  |   9566  | 4.76923076923 |  6   |\n",
      "|  21572  |   1788  | 4.75545851528 |  7   |\n",
      "|  21572  |   6361  | 4.74345549738 |  8   |\n",
      "|  21572  |   4483  | 4.73992673993 |  9   |\n",
      "|  21572  |   6590  |     4.7375    |  10  |\n",
      "|  42424  |   7947  | 4.85074626866 |  1   |\n",
      "|  42424  |   3628  | 4.80981595092 |  2   |\n",
      "|  42424  |   9806  |  4.8085106383 |  3   |\n",
      "|  42424  |   8978  | 4.78861788618 |  4   |\n",
      "|  42424  |   6920  | 4.78260869565 |  5   |\n",
      "|  42424  |   9566  | 4.76923076923 |  6   |\n",
      "|  42424  |   1788  | 4.75545851528 |  7   |\n",
      "|  42424  |   6361  | 4.74345549738 |  8   |\n",
      "|  42424  |   4483  | 4.73992673993 |  9   |\n",
      "|  42424  |   6590  |     4.7375    |  10  |\n",
      "|  52077  |   7947  | 4.85074626866 |  1   |\n",
      "|  52077  |   3628  | 4.80981595092 |  2   |\n",
      "|  52077  |   9806  |  4.8085106383 |  3   |\n",
      "|  52077  |   8978  | 4.78861788618 |  4   |\n",
      "|  52077  |   6920  | 4.78260869565 |  5   |\n",
      "|  52077  |   9566  | 4.76923076923 |  6   |\n",
      "|  52077  |   1788  | 4.75545851528 |  7   |\n",
      "|  52077  |   6361  | 4.74345549738 |  8   |\n",
      "|  52077  |   4483  | 4.74023786255 |  9   |\n",
      "|  52077  |   6590  |     4.7375    |  10  |\n",
      "|  42183  |   7947  | 4.85074626866 |  1   |\n",
      "|  42183  |   3628  | 4.80981595092 |  2   |\n",
      "|  42183  |   9806  |  4.8085106383 |  3   |\n",
      "|  42183  |   8978  | 4.78861788618 |  4   |\n",
      "|  42183  |   6920  | 4.78229042776 |  5   |\n",
      "|  42183  |   9566  | 4.76923076923 |  6   |\n",
      "|  42183  |   1788  | 4.75545851528 |  7   |\n",
      "|  42183  |   6361  | 4.74345549738 |  8   |\n",
      "|  42183  |   4483  | 4.73992673993 |  9   |\n",
      "|  42183  |   6590  | 4.73715093742 |  10  |\n",
      "|  48712  |   7947  | 4.85074626866 |  1   |\n",
      "|  48712  |   3628  | 4.80981595092 |  2   |\n",
      "|  48712  |   9806  | 4.80704618591 |  3   |\n",
      "|  48712  |   8978  | 4.78861788618 |  4   |\n",
      "|  48712  |   6920  | 4.78293928888 |  5   |\n",
      "|  48712  |   9566  | 4.76923076923 |  6   |\n",
      "|  48712  |   1788  | 4.75545851528 |  7   |\n",
      "|  48712  |   6361  | 4.74345549738 |  8   |\n",
      "|  48712  |   4483  | 4.73992673993 |  9   |\n",
      "|  48712  |   6590  |     4.7375    |  10  |\n",
      "|   6412  |   7947  | 4.85028102502 |  1   |\n",
      "|   6412  |   3628  | 4.80942462208 |  2   |\n",
      "|   6412  |   9806  |  4.8085106383 |  3   |\n",
      "|   6412  |   8978  | 4.78861788618 |  4   |\n",
      "|   6412  |   6920  | 4.78260869565 |  5   |\n",
      "|   6412  |   9566  | 4.76923076923 |  6   |\n",
      "|   6412  |   1788  |  4.7551094411 |  7   |\n",
      "|   6412  |   6361  | 4.74345549738 |  8   |\n",
      "|   6412  |   4483  | 4.73992673993 |  9   |\n",
      "|   6412  |   6590  |     4.7375    |  10  |\n",
      "|  18347  |   7947  | 4.85074626866 |  1   |\n",
      "|  18347  |   3628  |  4.8117511433 |  2   |\n",
      "|  18347  |   9806  |  4.8085106383 |  3   |\n",
      "|  18347  |   8978  | 4.78966253488 |  4   |\n",
      "|  18347  |   6920  | 4.78349372032 |  5   |\n",
      "|  18347  |   9566  |  4.7702103278 |  6   |\n",
      "|  18347  |   6361  | 4.74450523855 |  7   |\n",
      "|  18347  |   4483  | 4.74117046441 |  8   |\n",
      "|  18347  |   6590  | 4.73832140509 |  9   |\n",
      "|  18347  |   3275  | 4.72946859903 |  10  |\n",
      "|   2972  |   7947  | 4.85074626866 |  1   |\n",
      "|   2972  |   3628  | 4.80981595092 |  2   |\n",
      "|   2972  |   9806  |  4.8085106383 |  3   |\n",
      "|   2972  |   8978  | 4.78861788618 |  4   |\n",
      "|   2972  |   6920  | 4.78260869565 |  5   |\n",
      "|   2972  |   9566  | 4.76951830204 |  6   |\n",
      "|   2972  |   1788  | 4.75545851528 |  7   |\n",
      "|   2972  |   6361  |  4.7435634504 |  8   |\n",
      "|   2972  |   4483  | 4.73952090923 |  9   |\n",
      "|   2972  |   6590  |     4.7375    |  10  |\n",
      "|  36656  |   7947  | 4.85074626866 |  1   |\n",
      "|  36656  |   3628  | 4.80981595092 |  2   |\n",
      "|  36656  |   9806  |  4.8085106383 |  3   |\n",
      "|  36656  |   8978  | 4.78861788618 |  4   |\n",
      "|  36656  |   6920  | 4.78260869565 |  5   |\n",
      "|  36656  |   9566  | 4.76923076923 |  6   |\n",
      "|  36656  |   1788  | 4.75545851528 |  7   |\n",
      "|  36656  |   6361  | 4.74345549738 |  8   |\n",
      "|  36656  |   4483  | 4.73992673993 |  9   |\n",
      "|  36656  |   6590  |     4.7375    |  10  |\n",
      "|  19388  |   7947  | 4.85074626866 |  1   |\n",
      "|  19388  |   9806  |  4.8085106383 |  2   |\n",
      "|  19388  |   3628  | 4.80757006446 |  3   |\n",
      "|  19388  |   8978  | 4.78730660966 |  4   |\n",
      "|  19388  |   6920  | 4.78260869565 |  5   |\n",
      "|  19388  |   9566  | 4.76923076923 |  6   |\n",
      "|  19388  |   1788  | 4.75545851528 |  7   |\n",
      "|  19388  |   6361  | 4.74345549738 |  8   |\n",
      "|  19388  |   4483  | 4.73928210907 |  9   |\n",
      "|  19388  |   6590  |     4.7375    |  10  |\n",
      "|  27708  |   7947  | 4.85074626866 |  1   |\n",
      "|  27708  |   3628  | 4.80981595092 |  2   |\n",
      "|  27708  |   9806  |  4.8085106383 |  3   |\n",
      "|  27708  |   8978  | 4.78912939544 |  4   |\n",
      "|  27708  |   6920  | 4.78302633146 |  5   |\n",
      "|  27708  |   9566  | 4.76923076923 |  6   |\n",
      "|  27708  |   1788  | 4.75545851528 |  7   |\n",
      "|  27708  |   6361  | 4.74345549738 |  8   |\n",
      "|  27708  |   4483  | 4.73992673993 |  9   |\n",
      "|  27708  |   6590  | 4.73790938715 |  10  |\n",
      "|  43639  |   7947  | 4.85074626866 |  1   |\n",
      "|  43639  |   3628  | 4.80981595092 |  2   |\n",
      "|  43639  |   9806  |  4.8085106383 |  3   |\n",
      "|  43639  |   8978  | 4.78861788618 |  4   |\n",
      "|  43639  |   6920  | 4.78231849078 |  5   |\n",
      "|  43639  |   9566  | 4.76923076923 |  6   |\n",
      "|  43639  |   1788  | 4.75545851528 |  7   |\n",
      "|  43639  |   6361  | 4.74345549738 |  8   |\n",
      "|  43639  |   4483  | 4.73943298012 |  9   |\n",
      "|  43639  |   6590  |     4.7375    |  10  |\n",
      "|   2439  |   7947  | 4.85074626866 |  1   |\n",
      "|   2439  |   3628  | 4.81031627721 |  2   |\n",
      "|   2439  |   9806  |  4.8085106383 |  3   |\n",
      "|   2439  |   8978  | 4.78861788618 |  4   |\n",
      "|   2439  |   6920  | 4.78260869565 |  5   |\n",
      "|   2439  |   9566  | 4.76923076923 |  6   |\n",
      "|   2439  |   1788  |  4.7562626987 |  7   |\n",
      "|   2439  |   6361  | 4.74345549738 |  8   |\n",
      "|   2439  |   4483  | 4.74044742977 |  9   |\n",
      "|   2439  |   6590  |     4.7375    |  10  |\n",
      "|   4752  |   7947  | 4.85074626866 |  1   |\n",
      "|   4752  |   3628  | 4.80902624472 |  2   |\n",
      "|   4752  |   9806  |  4.8085106383 |  3   |\n",
      "|   4752  |   8978  | 4.78861788618 |  4   |\n",
      "|   4752  |   6920  | 4.78260869565 |  5   |\n",
      "|   4752  |   9566  | 4.76923076923 |  6   |\n",
      "|   4752  |   1788  | 4.75484173281 |  7   |\n",
      "|   4752  |   6361  | 4.74345549738 |  8   |\n",
      "|   4752  |   4483  | 4.74000111162 |  9   |\n",
      "|   4752  |   6590  |     4.7375    |  10  |\n",
      "|  37099  |   7947  | 4.85074626866 |  1   |\n",
      "|  37099  |   3628  | 4.80981595092 |  2   |\n",
      "|  37099  |   9806  |  4.8085106383 |  3   |\n",
      "|  37099  |   8978  | 4.78900560219 |  4   |\n",
      "|  37099  |   6920  | 4.78299109559 |  5   |\n",
      "|  37099  |   9566  | 4.76923076923 |  6   |\n",
      "|  37099  |   1788  | 4.75545851528 |  7   |\n",
      "|  37099  |   6361  | 4.74345549738 |  8   |\n",
      "|  37099  |   4483  | 4.73992673993 |  9   |\n",
      "|  37099  |   6590  | 4.73800572148 |  10  |\n",
      "|   557   |   7947  | 4.85074626866 |  1   |\n",
      "|   557   |   3628  | 4.80981595092 |  2   |\n",
      "|   557   |   9806  |  4.8085106383 |  3   |\n",
      "|   557   |   8978  | 4.78861788618 |  4   |\n",
      "|   557   |   6920  | 4.78260869565 |  5   |\n",
      "|   557   |   9566  | 4.76923076923 |  6   |\n",
      "|   557   |   1788  | 4.75545851528 |  7   |\n",
      "|   557   |   6361  | 4.74345549738 |  8   |\n",
      "|   557   |   4483  | 4.73992673993 |  9   |\n",
      "|   557   |   6590  |     4.7375    |  10  |\n",
      "|  32305  |   7947  | 4.85077210863 |  1   |\n",
      "|  32305  |   3628  | 4.80966838969 |  2   |\n",
      "|  32305  |   9806  |  4.8085106383 |  3   |\n",
      "|  32305  |   8978  | 4.78861788618 |  4   |\n",
      "|  32305  |   6920  | 4.78260869565 |  5   |\n",
      "|  32305  |   9566  | 4.76923076923 |  6   |\n",
      "|  32305  |   1788  | 4.75534701876 |  7   |\n",
      "|  32305  |   6361  | 4.74345549738 |  8   |\n",
      "|  32305  |   4483  | 4.73909096788 |  9   |\n",
      "|  32305  |   6590  |     4.7375    |  10  |\n",
      "|  12411  |   7947  | 4.85074626866 |  1   |\n",
      "|  12411  |   3628  | 4.80970645638 |  2   |\n",
      "|  12411  |   9806  |  4.8085106383 |  3   |\n",
      "|  12411  |   8978  | 4.78861788618 |  4   |\n",
      "|  12411  |   6920  | 4.78260869565 |  5   |\n",
      "|  12411  |   9566  | 4.76923076923 |  6   |\n",
      "|  12411  |   1788  | 4.75545851528 |  7   |\n",
      "|  12411  |   6361  | 4.74345549738 |  8   |\n",
      "|  12411  |   4483  | 4.73992673993 |  9   |\n",
      "|  12411  |   6590  |     4.7375    |  10  |\n",
      "|  40494  |   7947  | 4.85074626866 |  1   |\n",
      "|  40494  |   3628  | 4.81009924913 |  2   |\n",
      "|  40494  |   9806  |  4.8085106383 |  3   |\n",
      "|  40494  |   8978  | 4.78861788618 |  4   |\n",
      "|  40494  |   6920  | 4.78260869565 |  5   |\n",
      "|  40494  |   9566  | 4.76923076923 |  6   |\n",
      "|  40494  |   1788  |  4.7556906051 |  7   |\n",
      "|  40494  |   6361  | 4.74345549738 |  8   |\n",
      "|  40494  |   4483  | 4.73850615396 |  9   |\n",
      "|  40494  |   6590  |     4.7375    |  10  |\n",
      "|  17326  |   7947  | 4.85074626866 |  1   |\n",
      "|  17326  |   3628  | 4.80981595092 |  2   |\n",
      "|  17326  |   9806  |  4.8085106383 |  3   |\n",
      "|  17326  |   8978  | 4.78861788618 |  4   |\n",
      "|  17326  |   6920  | 4.78260869565 |  5   |\n",
      "|  17326  |   9566  | 4.76923076923 |  6   |\n",
      "|  17326  |   1788  | 4.75545851528 |  7   |\n",
      "|  17326  |   6361  | 4.74345549738 |  8   |\n",
      "|  17326  |   4483  | 4.73992673993 |  9   |\n",
      "|  17326  |   6590  |     4.7375    |  10  |\n",
      "|  35071  |   7947  | 4.85074626866 |  1   |\n",
      "|  35071  |   3628  | 4.80981595092 |  2   |\n",
      "|  35071  |   9806  | 4.80865434128 |  3   |\n",
      "|  35071  |   8978  | 4.78861788618 |  4   |\n",
      "|  35071  |   6920  | 4.78304875292 |  5   |\n",
      "|  35071  |   9566  | 4.76923076923 |  6   |\n",
      "|  35071  |   1788  | 4.75545851528 |  7   |\n",
      "|  35071  |   6361  | 4.74345549738 |  8   |\n",
      "|  35071  |   4483  | 4.73992673993 |  9   |\n",
      "|  35071  |   6590  |     4.7375    |  10  |\n",
      "|  20543  |   7947  | 4.85074626866 |  1   |\n",
      "|  20543  |   3628  | 4.80981595092 |  2   |\n",
      "|  20543  |   9806  |  4.8085106383 |  3   |\n",
      "|  20543  |   8978  | 4.78861788618 |  4   |\n",
      "|  20543  |   6920  | 4.78260869565 |  5   |\n",
      "|  20543  |   9566  | 4.76923076923 |  6   |\n",
      "|  20543  |   1788  | 4.75545851528 |  7   |\n",
      "|  20543  |   6361  | 4.74345549738 |  8   |\n",
      "|  20543  |   4483  | 4.73891148077 |  9   |\n",
      "|  20543  |   6590  |     4.7375    |  10  |\n",
      "|  30783  |   7947  | 4.85074626866 |  1   |\n",
      "|  30783  |   3628  | 4.80981595092 |  2   |\n",
      "|  30783  |   9806  |  4.8085106383 |  3   |\n",
      "|  30783  |   8978  | 4.78861788618 |  4   |\n",
      "|  30783  |   6920  | 4.78260869565 |  5   |\n",
      "|  30783  |   9566  | 4.76923076923 |  6   |\n",
      "|  30783  |   1788  | 4.75545851528 |  7   |\n",
      "|  30783  |   6361  | 4.74345549738 |  8   |\n",
      "|  30783  |   4483  | 4.73992673993 |  9   |\n",
      "|  30783  |   6590  |     4.7375    |  10  |\n",
      "|   334   |   7947  | 4.85074626866 |  1   |\n",
      "|   334   |   3628  | 4.81002353795 |  2   |\n",
      "|   334   |   9806  |  4.8085106383 |  3   |\n",
      "|   334   |   8978  | 4.78861788618 |  4   |\n",
      "|   334   |   6920  | 4.78260869565 |  5   |\n",
      "|   334   |   9566  | 4.76923076923 |  6   |\n",
      "|   334   |   1788  | 4.75563327358 |  7   |\n",
      "|   334   |   6361  | 4.74345549738 |  8   |\n",
      "|   334   |   4483  | 4.73992673993 |  9   |\n",
      "|   334   |   6590  | 4.73713648722 |  10  |\n",
      "|   8813  |   7947  | 4.85074626866 |  1   |\n",
      "|   8813  |   3628  | 4.80981595092 |  2   |\n",
      "|   8813  |   9806  |  4.8085106383 |  3   |\n",
      "|   8813  |   8978  | 4.78861788618 |  4   |\n",
      "|   8813  |   6920  | 4.78260869565 |  5   |\n",
      "|   8813  |   9566  | 4.76923076923 |  6   |\n",
      "|   8813  |   1788  | 4.75547079494 |  7   |\n",
      "|   8813  |   6361  |  4.7428424305 |  8   |\n",
      "|   8813  |   4483  | 4.73992673993 |  9   |\n",
      "|   8813  |   6590  |     4.7375    |  10  |\n",
      "|  38232  |   7947  | 4.85074626866 |  1   |\n",
      "|  38232  |   3628  | 4.80981595092 |  2   |\n",
      "|  38232  |   9806  |  4.8085106383 |  3   |\n",
      "|  38232  |   8978  | 4.78861788618 |  4   |\n",
      "|  38232  |   6920  | 4.78260869565 |  5   |\n",
      "|  38232  |   9566  | 4.76923076923 |  6   |\n",
      "|  38232  |   1788  | 4.75545851528 |  7   |\n",
      "|  38232  |   6361  | 4.74345549738 |  8   |\n",
      "|  38232  |   4483  | 4.73992673993 |  9   |\n",
      "|  38232  |   6590  |     4.7375    |  10  |\n",
      "|  22666  |   7947  | 4.85074626866 |  1   |\n",
      "|  22666  |   3628  | 4.81066887094 |  2   |\n",
      "|  22666  |   9806  |  4.8085106383 |  3   |\n",
      "|  22666  |   8978  | 4.78861788618 |  4   |\n",
      "|  22666  |   6920  | 4.78260869565 |  5   |\n",
      "|  22666  |   9566  | 4.76923076923 |  6   |\n",
      "|  22666  |   1788  | 4.75584747352 |  7   |\n",
      "|  22666  |   6361  | 4.74345549738 |  8   |\n",
      "|  22666  |   4483  | 4.73999549969 |  9   |\n",
      "|  22666  |   6590  |     4.7375    |  10  |\n",
      "|  31906  |   7947  | 4.85129397574 |  1   |\n",
      "|  31906  |   3628  | 4.80981595092 |  2   |\n",
      "|  31906  |   9806  | 4.80882098941 |  3   |\n",
      "|  31906  |   8978  | 4.78861788618 |  4   |\n",
      "|  31906  |   6920  | 4.78260869565 |  5   |\n",
      "|  31906  |   9566  | 4.76923076923 |  6   |\n",
      "|  31906  |   1788  | 4.75545851528 |  7   |\n",
      "|  31906  |   6361  | 4.74378420467 |  8   |\n",
      "|  31906  |   4483  | 4.74086986491 |  9   |\n",
      "|  31906  |   6590  |     4.7375    |  10  |\n",
      "|  36173  |   7947  | 4.85074626866 |  1   |\n",
      "|  36173  |   3628  | 4.80891476079 |  2   |\n",
      "|  36173  |   9806  |  4.8085106383 |  3   |\n",
      "|  36173  |   8978  | 4.78861788618 |  4   |\n",
      "|  36173  |   6920  | 4.78260869565 |  5   |\n",
      "|  36173  |   9566  | 4.76923076923 |  6   |\n",
      "|  36173  |   1788  | 4.75472022006 |  7   |\n",
      "|  36173  |   6361  | 4.74345549738 |  8   |\n",
      "|  36173  |   4483  | 4.73992673993 |  9   |\n",
      "|  36173  |   6590  |     4.7375    |  10  |\n",
      "|  40355  |   7947  | 4.85074626866 |  1   |\n",
      "|  40355  |   3628  | 4.80981595092 |  2   |\n",
      "|  40355  |   9806  |  4.8085106383 |  3   |\n",
      "|  40355  |   8978  | 4.78861788618 |  4   |\n",
      "|  40355  |   6920  | 4.78260869565 |  5   |\n",
      "|  40355  |   9566  | 4.76923076923 |  6   |\n",
      "|  40355  |   1788  | 4.75545851528 |  7   |\n",
      "|  40355  |   6361  | 4.74345549738 |  8   |\n",
      "|  40355  |   4483  | 4.73992673993 |  9   |\n",
      "|  40355  |   6590  |     4.7375    |  10  |\n",
      "|   7650  |   7947  | 4.85074626866 |  1   |\n",
      "|   7650  |   3628  |  4.810188127  |  2   |\n",
      "|   7650  |   9806  |  4.8085106383 |  3   |\n",
      "|   7650  |   8978  | 4.78861788618 |  4   |\n",
      "|   7650  |   6920  | 4.78260869565 |  5   |\n",
      "|   7650  |   9566  | 4.76923076923 |  6   |\n",
      "|   7650  |   1788  | 4.75576341758 |  7   |\n",
      "|   7650  |   6361  | 4.74345549738 |  8   |\n",
      "|   7650  |   4483  | 4.73992673993 |  9   |\n",
      "|   7650  |   6590  |     4.7375    |  10  |\n",
      "|  16363  |   7947  | 4.85074626866 |  1   |\n",
      "|  16363  |   3628  | 4.80981595092 |  2   |\n",
      "|  16363  |   9806  |  4.8085106383 |  3   |\n",
      "|  16363  |   8978  | 4.78861788618 |  4   |\n",
      "|  16363  |   6920  | 4.78260869565 |  5   |\n",
      "|  16363  |   9566  | 4.76923076923 |  6   |\n",
      "|  16363  |   1788  | 4.75545851528 |  7   |\n",
      "|  16363  |   6361  | 4.74345549738 |  8   |\n",
      "|  16363  |   4483  | 4.73992673993 |  9   |\n",
      "|  16363  |   6590  |     4.7375    |  10  |\n",
      "|  52473  |   7947  | 4.85074626866 |  1   |\n",
      "|  52473  |   3628  | 4.80981595092 |  2   |\n",
      "|  52473  |   9806  |  4.8085106383 |  3   |\n",
      "|  52473  |   8978  | 4.78861788618 |  4   |\n",
      "|  52473  |   6920  | 4.78260869565 |  5   |\n",
      "|  52473  |   9566  | 4.76923076923 |  6   |\n",
      "|  52473  |   1788  | 4.75545851528 |  7   |\n",
      "|  52473  |   6361  | 4.74319974391 |  8   |\n",
      "|  52473  |   4483  | 4.73992673993 |  9   |\n",
      "|  52473  |   6590  |     4.7375    |  10  |\n",
      "|   8448  |   7947  | 4.85079631317 |  1   |\n",
      "|   8448  |   3628  | 4.80950388363 |  2   |\n",
      "|   8448  |   9806  |  4.8085106383 |  3   |\n",
      "|   8448  |   8978  | 4.78861788618 |  4   |\n",
      "|   8448  |   6920  | 4.78260869565 |  5   |\n",
      "|   8448  |   9566  | 4.76923076923 |  6   |\n",
      "|   8448  |   1788  | 4.75545851528 |  7   |\n",
      "|   8448  |   6361  | 4.74345549738 |  8   |\n",
      "|   8448  |   4483  | 4.73860446294 |  9   |\n",
      "|   8448  |   6590  |     4.7375    |  10  |\n",
      "|  26951  |   7947  | 4.85074626866 |  1   |\n",
      "|  26951  |   3628  | 4.80981595092 |  2   |\n",
      "|  26951  |   9806  |  4.8085106383 |  3   |\n",
      "|  26951  |   8978  | 4.78861788618 |  4   |\n",
      "|  26951  |   6920  | 4.78260869565 |  5   |\n",
      "|  26951  |   9566  | 4.76837124088 |  6   |\n",
      "|  26951  |   1788  | 4.75545851528 |  7   |\n",
      "|  26951  |   6361  | 4.74345549738 |  8   |\n",
      "|  26951  |   4483  | 4.73992673993 |  9   |\n",
      "|  26951  |   6590  | 4.73733225612 |  10  |\n",
      "|  46746  |   7947  | 4.85074626866 |  1   |\n",
      "|  46746  |   3628  | 4.80981595092 |  2   |\n",
      "|  46746  |   9806  |  4.8085106383 |  3   |\n",
      "|  46746  |   8978  | 4.78861788618 |  4   |\n",
      "|  46746  |   6920  | 4.78260869565 |  5   |\n",
      "|  46746  |   9566  | 4.76923076923 |  6   |\n",
      "|  46746  |   1788  | 4.75545851528 |  7   |\n",
      "|  46746  |   6361  | 4.74345549738 |  8   |\n",
      "|  46746  |   4483  | 4.73992673993 |  9   |\n",
      "|  46746  |   6590  |     4.7375    |  10  |\n",
      "|  12475  |   7947  | 4.85074626866 |  1   |\n",
      "|  12475  |   3628  | 4.80985976033 |  2   |\n",
      "|  12475  |   9806  |  4.8085106383 |  3   |\n",
      "|  12475  |   8978  |  4.7876424055 |  4   |\n",
      "|  12475  |   6920  | 4.78260869565 |  5   |\n",
      "|  12475  |   9566  | 4.76888239796 |  6   |\n",
      "|  12475  |   1788  | 4.75458343565 |  7   |\n",
      "|  12475  |   6361  | 4.74158669011 |  8   |\n",
      "|  12475  |   6590  |     4.7375    |  9   |\n",
      "|  12475  |   4483  | 4.73735244413 |  10  |\n",
      "|  50699  |   7947  | 4.85074626866 |  1   |\n",
      "|  50699  |   3628  | 4.81027286418 |  2   |\n",
      "|  50699  |   9806  |  4.8085106383 |  3   |\n",
      "|  50699  |   8978  | 4.78861788618 |  4   |\n",
      "|  50699  |   6920  | 4.78260869565 |  5   |\n",
      "|  50699  |   9566  | 4.76923076923 |  6   |\n",
      "|  50699  |   1788  | 4.75545851528 |  7   |\n",
      "|  50699  |   6361  | 4.74345549738 |  8   |\n",
      "|  50699  |   4483  | 4.73992673993 |  9   |\n",
      "|  50699  |   6590  |     4.7375    |  10  |\n",
      "|  44734  |   7947  | 4.85074626866 |  1   |\n",
      "|  44734  |   3628  | 4.80981595092 |  2   |\n",
      "|  44734  |   9806  |  4.8085106383 |  3   |\n",
      "|  44734  |   8978  | 4.78861788618 |  4   |\n",
      "|  44734  |   6920  | 4.78260869565 |  5   |\n",
      "|  44734  |   9566  | 4.76923076923 |  6   |\n",
      "|  44734  |   1788  | 4.75545851528 |  7   |\n",
      "|  44734  |   6361  | 4.74345549738 |  8   |\n",
      "|  44734  |   4483  | 4.73992673993 |  9   |\n",
      "|  44734  |   6590  |     4.7375    |  10  |\n",
      "|  38771  |   7947  | 4.85042505639 |  1   |\n",
      "|  38771  |   3628  | 4.80981595092 |  2   |\n",
      "|  38771  |   9806  |  4.8085106383 |  3   |\n",
      "|  38771  |   8978  | 4.78861788618 |  4   |\n",
      "|  38771  |   6920  | 4.78260869565 |  5   |\n",
      "|  38771  |   9566  | 4.76923076923 |  6   |\n",
      "|  38771  |   1788  | 4.75545851528 |  7   |\n",
      "|  38771  |   6361  | 4.74347007498 |  8   |\n",
      "|  38771  |   4483  | 4.74043908442 |  9   |\n",
      "|  38771  |   6590  |     4.7375    |  10  |\n",
      "|  22202  |   7947  | 4.85103844743 |  1   |\n",
      "|  22202  |   3628  | 4.81117683938 |  2   |\n",
      "|  22202  |   9806  |  4.8085106383 |  3   |\n",
      "|  22202  |   8978  | 4.78861788618 |  4   |\n",
      "|  22202  |   6920  | 4.78260869565 |  5   |\n",
      "|  22202  |   9566  | 4.76923076923 |  6   |\n",
      "|  22202  |   1788  |  4.7560827526 |  7   |\n",
      "|  22202  |   6361  | 4.74345549738 |  8   |\n",
      "|  22202  |   4483  | 4.73983432718 |  9   |\n",
      "|  22202  |   6590  |     4.7375    |  10  |\n",
      "|  23286  |   7947  | 4.85074626866 |  1   |\n",
      "|  23286  |   3628  | 4.81024640463 |  2   |\n",
      "|  23286  |   9806  |  4.8085106383 |  3   |\n",
      "|  23286  |   8978  | 4.78909614723 |  4   |\n",
      "|  23286  |   6920  | 4.78316368627 |  5   |\n",
      "|  23286  |   9566  | 4.76948272027 |  6   |\n",
      "|  23286  |   1788  | 4.75618198248 |  7   |\n",
      "|  23286  |   6361  | 4.74394607084 |  8   |\n",
      "|  23286  |   4483  | 4.74068507878 |  9   |\n",
      "|  23286  |   6590  | 4.73812821603 |  10  |\n",
      "|  52907  |   7947  | 4.85106255554 |  1   |\n",
      "|  52907  |   3628  | 4.81068393045 |  2   |\n",
      "|  52907  |   9806  |  4.8085106383 |  3   |\n",
      "|  52907  |   8978  | 4.78861788618 |  4   |\n",
      "|  52907  |   6920  | 4.78260869565 |  5   |\n",
      "|  52907  |   9566  | 4.76923076923 |  6   |\n",
      "|  52907  |   1788  | 4.75556394636 |  7   |\n",
      "|  52907  |   6361  | 4.74362233952 |  8   |\n",
      "|  52907  |   4483  | 4.74059858838 |  9   |\n",
      "|  52907  |   6590  |     4.7375    |  10  |\n",
      "|   4981  |   7947  | 4.85078156791 |  1   |\n",
      "|   4981  |   3628  | 4.80981595092 |  2   |\n",
      "|   4981  |   9806  |  4.8085106383 |  3   |\n",
      "|   4981  |   8978  | 4.78861788618 |  4   |\n",
      "|   4981  |   6920  | 4.78260869565 |  5   |\n",
      "|   4981  |   9566  | 4.76916219515 |  6   |\n",
      "|   4981  |   1788  | 4.75545851528 |  7   |\n",
      "|   4981  |   6361  | 4.74345549738 |  8   |\n",
      "|   4981  |   4483  | 4.73978888556 |  9   |\n",
      "|   4981  |   6590  | 4.73809235043 |  10  |\n",
      "|  46667  |   7947  | 4.85074626866 |  1   |\n",
      "|  46667  |   3628  | 4.80961900512 |  2   |\n",
      "|  46667  |   9806  |  4.8085106383 |  3   |\n",
      "|  46667  |   8978  | 4.78838332047 |  4   |\n",
      "|  46667  |   6920  | 4.78210332059 |  5   |\n",
      "|  46667  |   9566  | 4.76923076923 |  6   |\n",
      "|  46667  |   1788  | 4.75530130435 |  7   |\n",
      "|  46667  |   6361  | 4.74362471363 |  8   |\n",
      "|  46667  |   4483  | 4.73976040613 |  9   |\n",
      "|  46667  |   6590  |     4.7375    |  10  |\n",
      "|   4657  |   7947  | 4.85074626866 |  1   |\n",
      "|   4657  |   3628  |  4.8097017909 |  2   |\n",
      "|   4657  |   9806  |  4.8085106383 |  3   |\n",
      "|   4657  |   8978  | 4.78861788618 |  4   |\n",
      "|   4657  |   6920  | 4.78260869565 |  5   |\n",
      "|   4657  |   9566  | 4.76923076923 |  6   |\n",
      "|   4657  |   1788  | 4.75536809778 |  7   |\n",
      "|   4657  |   6361  | 4.74345549738 |  8   |\n",
      "|   4657  |   4483  | 4.73992673993 |  9   |\n",
      "|   4657  |   6590  |     4.7375    |  10  |\n",
      "|  39163  |   7947  | 4.85119333088 |  1   |\n",
      "|  39163  |   3628  | 4.80981595092 |  2   |\n",
      "|  39163  |   9806  |  4.8085106383 |  3   |\n",
      "|  39163  |   8978  | 4.78861788618 |  4   |\n",
      "|  39163  |   6920  | 4.78260869565 |  5   |\n",
      "|  39163  |   9566  | 4.76923076923 |  6   |\n",
      "|  39163  |   1788  | 4.75545851528 |  7   |\n",
      "|  39163  |   6361  | 4.74345549738 |  8   |\n",
      "|  39163  |   4483  | 4.73992673993 |  9   |\n",
      "|  39163  |   6590  |     4.7375    |  10  |\n",
      "|  17386  |   7947  | 4.85074626866 |  1   |\n",
      "|  17386  |   3628  | 4.80981595092 |  2   |\n",
      "|  17386  |   9806  |  4.8085106383 |  3   |\n",
      "|  17386  |   8978  | 4.78861788618 |  4   |\n",
      "|  17386  |   6920  | 4.78260869565 |  5   |\n",
      "|  17386  |   9566  | 4.76923076923 |  6   |\n",
      "|  17386  |   1788  | 4.75545851528 |  7   |\n",
      "|  17386  |   6361  | 4.74345549738 |  8   |\n",
      "|  17386  |   4483  | 4.73992673993 |  9   |\n",
      "|  17386  |   6590  |     4.7375    |  10  |\n",
      "|  16052  |   7947  | 4.85074626866 |  1   |\n",
      "|  16052  |   3628  | 4.80981595092 |  2   |\n",
      "|  16052  |   9806  |  4.8085106383 |  3   |\n",
      "|  16052  |   8978  | 4.78861788618 |  4   |\n",
      "|  16052  |   6920  | 4.78260869565 |  5   |\n",
      "|  16052  |   9566  | 4.76923076923 |  6   |\n",
      "|  16052  |   1788  | 4.75524305987 |  7   |\n",
      "|  16052  |   6361  | 4.74345549738 |  8   |\n",
      "|  16052  |   4483  | 4.74049863496 |  9   |\n",
      "|  16052  |   6590  |     4.7375    |  10  |\n",
      "|  24834  |   7947  | 4.85074626866 |  1   |\n",
      "|  24834  |   3628  | 4.80981595092 |  2   |\n",
      "|  24834  |   9806  |  4.8085106383 |  3   |\n",
      "|  24834  |   8978  | 4.78861788618 |  4   |\n",
      "|  24834  |   6920  | 4.78260869565 |  5   |\n",
      "|  24834  |   9566  | 4.76923076923 |  6   |\n",
      "|  24834  |   1788  | 4.75545851528 |  7   |\n",
      "|  24834  |   6361  | 4.74345549738 |  8   |\n",
      "|  24834  |   4483  | 4.74042232511 |  9   |\n",
      "|  24834  |   6590  |     4.7375    |  10  |\n",
      "|  34987  |   7947  | 4.85080593087 |  1   |\n",
      "|  34987  |   3628  | 4.81017434823 |  2   |\n",
      "|  34987  |   9806  |  4.8085106383 |  3   |\n",
      "|  34987  |   8978  | 4.78861788618 |  4   |\n",
      "|  34987  |   6920  | 4.78260869565 |  5   |\n",
      "|  34987  |   9566  | 4.76923076923 |  6   |\n",
      "|  34987  |   1788  | 4.75575215553 |  7   |\n",
      "|  34987  |   6361  | 4.74345549738 |  8   |\n",
      "|  34987  |   4483  |  4.7403393165 |  9   |\n",
      "|  34987  |   6590  |     4.7375    |  10  |\n",
      "|  35062  |   7947  | 4.85074626866 |  1   |\n",
      "|  35062  |   3628  | 4.80981595092 |  2   |\n",
      "|  35062  |   9806  |  4.8085106383 |  3   |\n",
      "|  35062  |   8978  | 4.78861788618 |  4   |\n",
      "|  35062  |   6920  | 4.78260869565 |  5   |\n",
      "|  35062  |   9566  | 4.76923076923 |  6   |\n",
      "|  35062  |   1788  | 4.75545851528 |  7   |\n",
      "|  35062  |   6361  | 4.74345549738 |  8   |\n",
      "|  35062  |   4483  | 4.73992673993 |  9   |\n",
      "|  35062  |   6590  |     4.7375    |  10  |\n",
      "|  46989  |   7947  | 4.85074626866 |  1   |\n",
      "|  46989  |   3628  | 4.80981595092 |  2   |\n",
      "|  46989  |   9806  |  4.8085106383 |  3   |\n",
      "|  46989  |   8978  | 4.78861788618 |  4   |\n",
      "|  46989  |   6920  | 4.78260869565 |  5   |\n",
      "|  46989  |   9566  | 4.76923076923 |  6   |\n",
      "|  46989  |   1788  | 4.75545851528 |  7   |\n",
      "|  46989  |   6361  | 4.74345549738 |  8   |\n",
      "|  46989  |   4483  | 4.73992673993 |  9   |\n",
      "|  46989  |   6590  |     4.7375    |  10  |\n",
      "|  52081  |   7947  | 4.85074626866 |  1   |\n",
      "|  52081  |   3628  | 4.80983233811 |  2   |\n",
      "|  52081  |   9806  |  4.8085106383 |  3   |\n",
      "|  52081  |   8978  | 4.78866680348 |  4   |\n",
      "|  52081  |   6920  | 4.78260869565 |  5   |\n",
      "|  52081  |   9566  | 4.76923076923 |  6   |\n",
      "|  52081  |   1788  | 4.75527249269 |  7   |\n",
      "|  52081  |   6361  | 4.74341236583 |  8   |\n",
      "|  52081  |   4483  | 4.73976568233 |  9   |\n",
      "|  52081  |   6590  |     4.7375    |  10  |\n",
      "|  26663  |   7947  | 4.85074626866 |  1   |\n",
      "|  26663  |   3628  | 4.80981595092 |  2   |\n",
      "|  26663  |   9806  |  4.8085106383 |  3   |\n",
      "|  26663  |   8978  | 4.78861788618 |  4   |\n",
      "|  26663  |   6920  | 4.78260869565 |  5   |\n",
      "|  26663  |   9566  | 4.76923076923 |  6   |\n",
      "|  26663  |   1788  | 4.75545851528 |  7   |\n",
      "|  26663  |   6361  | 4.74345549738 |  8   |\n",
      "|  26663  |   4483  | 4.73992673993 |  9   |\n",
      "|  26663  |   6590  |     4.7375    |  10  |\n",
      "|  15817  |   7947  | 4.85074626866 |  1   |\n",
      "|  15817  |   3628  | 4.80981595092 |  2   |\n",
      "|  15817  |   9806  |  4.8085106383 |  3   |\n",
      "|  15817  |   8978  | 4.78861788618 |  4   |\n",
      "|  15817  |   6920  | 4.78260869565 |  5   |\n",
      "|  15817  |   9566  | 4.76923076923 |  6   |\n",
      "|  15817  |   1788  | 4.75545851528 |  7   |\n",
      "|  15817  |   6361  | 4.74345549738 |  8   |\n",
      "|  15817  |   4483  | 4.73992673993 |  9   |\n",
      "|  15817  |   6590  |     4.7375    |  10  |\n",
      "|  44769  |   7947  | 4.85133521482 |  1   |\n",
      "|  44769  |   3628  | 4.80981595092 |  2   |\n",
      "|  44769  |   9806  |  4.8085106383 |  3   |\n",
      "|  44769  |   8978  | 4.78861788618 |  4   |\n",
      "|  44769  |   6920  | 4.78260869565 |  5   |\n",
      "|  44769  |   9566  | 4.76923076923 |  6   |\n",
      "|  44769  |   1788  | 4.75545851528 |  7   |\n",
      "|  44769  |   6361  | 4.74345549738 |  8   |\n",
      "|  44769  |   4483  | 4.73992673993 |  9   |\n",
      "|  44769  |   6590  |     4.7375    |  10  |\n",
      "|   5300  |   7947  | 4.85074626866 |  1   |\n",
      "|   5300  |   3628  | 4.80953168509 |  2   |\n",
      "|   5300  |   9806  |  4.8085106383 |  3   |\n",
      "|   5300  |   8978  | 4.78771208486 |  4   |\n",
      "|   5300  |   6920  |  4.7820008797 |  5   |\n",
      "|   5300  |   9566  | 4.76892472193 |  6   |\n",
      "|   5300  |   1788  | 4.75545851528 |  7   |\n",
      "|   5300  |   6361  | 4.74300252141 |  8   |\n",
      "|   5300  |   4483  | 4.73950297507 |  9   |\n",
      "|   5300  |   6590  |     4.7375    |  10  |\n",
      "|   3323  |   7947  | 4.85074626866 |  1   |\n",
      "|   3323  |   9806  |  4.8085106383 |  2   |\n",
      "|   3323  |   3628  | 4.80776481528 |  3   |\n",
      "|   3323  |   8978  | 4.78861788618 |  4   |\n",
      "|   3323  |   6920  | 4.78260869565 |  5   |\n",
      "|   3323  |   9566  | 4.76923076923 |  6   |\n",
      "|   3323  |   1788  | 4.75378821432 |  7   |\n",
      "|   3323  |   6361  | 4.74345549738 |  8   |\n",
      "|   3323  |   4483  | 4.73992673993 |  9   |\n",
      "|   3323  |   6590  |     4.7375    |  10  |\n",
      "|  43774  |   7947  | 4.85074626866 |  1   |\n",
      "|  43774  |   3628  | 4.80981595092 |  2   |\n",
      "|  43774  |   9806  |  4.8085106383 |  3   |\n",
      "|  43774  |   8978  | 4.78861788618 |  4   |\n",
      "|  43774  |   6920  | 4.78260869565 |  5   |\n",
      "|  43774  |   9566  | 4.76923076923 |  6   |\n",
      "|  43774  |   1788  | 4.75545851528 |  7   |\n",
      "|  43774  |   6361  | 4.74342170988 |  8   |\n",
      "|  43774  |   4483  | 4.74000764522 |  9   |\n",
      "|  43774  |   6590  |     4.7375    |  10  |\n",
      "|  33383  |   7947  | 4.85074626866 |  1   |\n",
      "|  33383  |   3628  | 4.81025351443 |  2   |\n",
      "|  33383  |   9806  |  4.8085106383 |  3   |\n",
      "|  33383  |   8978  | 4.78861788618 |  4   |\n",
      "|  33383  |   6920  | 4.78260869565 |  5   |\n",
      "|  33383  |   9566  | 4.76923076923 |  6   |\n",
      "|  33383  |   1788  | 4.75545851528 |  7   |\n",
      "|  33383  |   6361  | 4.74345549738 |  8   |\n",
      "|  33383  |   4483  | 4.73992673993 |  9   |\n",
      "|  33383  |   6590  | 4.73784454392 |  10  |\n",
      "|  43536  |   7947  | 4.85074626866 |  1   |\n",
      "|  43536  |   3628  | 4.80995108061 |  2   |\n",
      "|  43536  |   9806  |  4.8085106383 |  3   |\n",
      "|  43536  |   8978  | 4.78861788618 |  4   |\n",
      "|  43536  |   6920  | 4.78260869565 |  5   |\n",
      "|  43536  |   9566  | 4.76923076923 |  6   |\n",
      "|  43536  |   1788  | 4.75545851528 |  7   |\n",
      "|  43536  |   6361  | 4.74345549738 |  8   |\n",
      "|  43536  |   4483  | 4.73992673993 |  9   |\n",
      "|  43536  |   6590  |     4.7375    |  10  |\n",
      "|  39913  |   7947  | 4.85074626866 |  1   |\n",
      "|  39913  |   3628  | 4.80981595092 |  2   |\n",
      "|  39913  |   9806  |  4.8085106383 |  3   |\n",
      "|  39913  |   8978  | 4.78861788618 |  4   |\n",
      "|  39913  |   6920  | 4.78260869565 |  5   |\n",
      "|  39913  |   9566  | 4.76923076923 |  6   |\n",
      "|  39913  |   1788  | 4.75545851528 |  7   |\n",
      "|  39913  |   6361  | 4.74439410433 |  8   |\n",
      "|  39913  |   4483  | 4.74355151731 |  9   |\n",
      "|  39913  |   6590  |     4.7375    |  10  |\n",
      "|  17799  |   7947  | 4.85074626866 |  1   |\n",
      "|  17799  |   3628  |  4.8094757331 |  2   |\n",
      "|  17799  |   9806  |  4.8085106383 |  3   |\n",
      "|  17799  |   8978  | 4.78861788618 |  4   |\n",
      "|  17799  |   6920  | 4.78260869565 |  5   |\n",
      "|  17799  |   9566  | 4.76923076923 |  6   |\n",
      "|  17799  |   1788  | 4.75545851528 |  7   |\n",
      "|  17799  |   6361  | 4.74345549738 |  8   |\n",
      "|  17799  |   4483  | 4.73992673993 |  9   |\n",
      "|  17799  |   6590  |     4.7375    |  10  |\n",
      "|  41272  |   7947  | 4.85074626866 |  1   |\n",
      "|  41272  |   3628  | 4.81034627011 |  2   |\n",
      "|  41272  |   9806  |  4.8085106383 |  3   |\n",
      "|  41272  |   8978  | 4.78865059695 |  4   |\n",
      "|  41272  |   6920  | 4.78204886255 |  5   |\n",
      "|  41272  |   9566  |  4.7689253044 |  6   |\n",
      "|  41272  |   1788  | 4.75512983348 |  7   |\n",
      "|  41272  |   6361  | 4.74259668226 |  8   |\n",
      "|  41272  |   4483  | 4.73682155072 |  9   |\n",
      "|  41272  |   6590  |  4.7368077523 |  10  |\n",
      "|  31533  |   7947  | 4.85076294781 |  1   |\n",
      "|  31533  |   3628  | 4.81024899071 |  2   |\n",
      "|  31533  |   9806  |  4.8085106383 |  3   |\n",
      "|  31533  |   8978  | 4.78861788618 |  4   |\n",
      "|  31533  |   6920  | 4.78260869565 |  5   |\n",
      "|  31533  |   9566  | 4.76923076923 |  6   |\n",
      "|  31533  |   1788  | 4.75545851528 |  7   |\n",
      "|  31533  |   6361  | 4.74345549738 |  8   |\n",
      "|  31533  |   4483  |  4.7405858836 |  9   |\n",
      "|  31533  |   6590  |     4.7375    |  10  |\n",
      "+---------+---------+---------------+------+\n",
      "[534240 rows x 4 columns]\n",
      "\n"
     ]
    }
   ],
   "source": [
    "#Printing the rows for the recommendation given to each user\n",
    "recom.print_rows(num_rows=1000)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# Finding Similar items\n",
    "similar_items = item_sim_model.get_similar_items()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">similar</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">score</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">rank</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">17</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.283469855785</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">20</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.218464255333</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.123763918877</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">12</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.117451071739</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.104804933071</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">27</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.0858340859413</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">21</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.0803371667862</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">9</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.0796078443527</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">23</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.0795583128929</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">24</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.0790069699287</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">10</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[100000 rows x 4 columns]<br/>Note: Only the head of the SFrame is printed.<br/>You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tbook_id\tint\n",
       "\tsimilar\tint\n",
       "\tscore\tfloat\n",
       "\trank\tint\n",
       "\n",
       "Rows: 100000\n",
       "\n",
       "Data:\n",
       "+---------+---------+-----------------+------+\n",
       "| book_id | similar |      score      | rank |\n",
       "+---------+---------+-----------------+------+\n",
       "|    1    |    17   |  0.283469855785 |  1   |\n",
       "|    1    |    20   |  0.218464255333 |  2   |\n",
       "|    1    |    3    |  0.123763918877 |  3   |\n",
       "|    1    |    12   |  0.117451071739 |  4   |\n",
       "|    1    |    2    |  0.104804933071 |  5   |\n",
       "|    1    |    27   | 0.0858340859413 |  6   |\n",
       "|    1    |    21   | 0.0803371667862 |  7   |\n",
       "|    1    |    9    | 0.0796078443527 |  8   |\n",
       "|    1    |    23   | 0.0795583128929 |  9   |\n",
       "|    1    |    24   | 0.0790069699287 |  10  |\n",
       "+---------+---------+-----------------+------+\n",
       "[100000 rows x 4 columns]\n",
       "Note: Only the head of the SFrame is printed.\n",
       "You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns."
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "similar_items"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">num_users</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">15998</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">60</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6355</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3685</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">191</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">139</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3369</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">160</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4439</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4592</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">312</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">980</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">804</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">317</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">217</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3221</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1039</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">971</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[10000 rows x 2 columns]<br/>Note: Only the head of the SFrame is printed.<br/>You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tbook_id\tint\n",
       "\tnum_users\tint\n",
       "\n",
       "Rows: 10000\n",
       "\n",
       "Data:\n",
       "+---------+-----------+\n",
       "| book_id | num_users |\n",
       "+---------+-----------+\n",
       "|    1    |   15998   |\n",
       "|    60   |    6355   |\n",
       "|   3685  |    191    |\n",
       "|   139   |    3369   |\n",
       "|   160   |    4439   |\n",
       "|   4592  |    312    |\n",
       "|   980   |    804    |\n",
       "|   317   |    2143   |\n",
       "|   217   |    3221   |\n",
       "|   1039  |    971    |\n",
       "+---------+-----------+\n",
       "[10000 rows x 2 columns]\n",
       "Note: Only the head of the SFrame is printed.\n",
       "You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns."
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "item_sim_model.get_num_users_per_item()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">user_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">num_items</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">15649</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">77</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2795</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">70</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">31005</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">82</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">36606</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">66</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">26525</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">103</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">27136</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">110</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">35088</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">52</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">52819</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">75</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">18150</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">73</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">33208</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">85</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[53424 rows x 2 columns]<br/>Note: Only the head of the SFrame is printed.<br/>You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tuser_id\tint\n",
       "\tnum_items\tint\n",
       "\n",
       "Rows: 53424\n",
       "\n",
       "Data:\n",
       "+---------+-----------+\n",
       "| user_id | num_items |\n",
       "+---------+-----------+\n",
       "|  15649  |     77    |\n",
       "|   2795  |     70    |\n",
       "|  31005  |     82    |\n",
       "|  36606  |     66    |\n",
       "|  26525  |    103    |\n",
       "|  27136  |    110    |\n",
       "|  35088  |     52    |\n",
       "|  52819  |     75    |\n",
       "|  18150  |     73    |\n",
       "|  33208  |     85    |\n",
       "+---------+-----------+\n",
       "[53424 rows x 2 columns]\n",
       "Note: Only the head of the SFrame is printed.\n",
       "You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns."
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "item_sim_model.get_num_items_per_user()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1312.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1312.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1442.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1442.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1514.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1514.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1549.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1549.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1551.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1551.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1545.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1545.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1539.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1539.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1548.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1548.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1549.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1549.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1547.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1547.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1543.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1543.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1552.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1552.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1559.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1559.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1556.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1556.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1563.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1563.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1565.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1565.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1575.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1575.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1578.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1578.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1586.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1586.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1589.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1589.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1566.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1566.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1550.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1550.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1556.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1556.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1561.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1561.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1564.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1564.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1569.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1569.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1572.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1572.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1576.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1576.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1577.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1577.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1578.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1578.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1582.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1582.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1584.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1584.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1587.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1587.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1589.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1589.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1591.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1591.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1594.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1594.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1593.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1593.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1594.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1594.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1596.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1596.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1598.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1598.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1600.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1600.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1601.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1601.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1603.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1603.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1601.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1601.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1602.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1602.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1603.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1603.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1604.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1604.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1605.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1605.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1604.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1604.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1604.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1604.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1605.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1605.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1606.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1606.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1606.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1606.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+----------------+-------------+\n",
      "| cutoff | mean_precision | mean_recall |\n",
      "+--------+----------------+-------------+\n",
      "|   1    |      0.0       |     0.0     |\n",
      "|   2    |      0.0       |     0.0     |\n",
      "|   3    |      0.0       |     0.0     |\n",
      "|   4    |      0.0       |     0.0     |\n",
      "|   5    |      0.0       |     0.0     |\n",
      "|   6    |      0.0       |     0.0     |\n",
      "|   7    |      0.0       |     0.0     |\n",
      "|   8    |      0.0       |     0.0     |\n",
      "|   9    |      0.0       |     0.0     |\n",
      "|   10   |      0.0       |     0.0     |\n",
      "+--------+----------------+-------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "('\\nOverall RMSE: ', 0.9476967658591412)\n",
      "\n",
      "Per User RMSE (best)\n",
      "+---------+-------+-----------------+\n",
      "| user_id | count |       rmse      |\n",
      "+---------+-------+-----------------+\n",
      "|  30625  |   2   | 0.0474638107586 |\n",
      "+---------+-------+-----------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per User RMSE (worst)\n",
      "+---------+-------+---------------+\n",
      "| user_id | count |      rmse     |\n",
      "+---------+-------+---------------+\n",
      "|  50431  |   13  | 2.95113697521 |\n",
      "+---------+-------+---------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (best)\n",
      "+---------+-------+----------------+\n",
      "| book_id | count |      rmse      |\n",
      "+---------+-------+----------------+\n",
      "|   3628  |   74  | 0.353907592058 |\n",
      "+---------+-------+----------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (worst)\n",
      "+---------+-------+---------------+\n",
      "| book_id | count |      rmse     |\n",
      "+---------+-------+---------------+\n",
      "|   9486  |   2   | 2.13903186729 |\n",
      "+---------+-------+---------------+\n",
      "[1 rows x 3 columns]\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "{'precision_recall_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \tcount\tint\n",
       " \n",
       " Rows: 961542\n",
       " \n",
       " Data:\n",
       " +---------+--------+-----------+--------+-------+\n",
       " | user_id | cutoff | precision | recall | count |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " |    1    |   1    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   2    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   3    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   4    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   5    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   6    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   7    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   8    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   9    |    0.0    |  0.0   |   17  |\n",
       " |    1    |   10   |    0.0    |  0.0   |   17  |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " [961542 rows x 5 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'precision_recall_overall': Columns:\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \n",
       " Rows: 18\n",
       " \n",
       " Data:\n",
       " +--------+-----------+--------+\n",
       " | cutoff | precision | recall |\n",
       " +--------+-----------+--------+\n",
       " |   1    |    0.0    |  0.0   |\n",
       " |   2    |    0.0    |  0.0   |\n",
       " |   3    |    0.0    |  0.0   |\n",
       " |   4    |    0.0    |  0.0   |\n",
       " |   5    |    0.0    |  0.0   |\n",
       " |   6    |    0.0    |  0.0   |\n",
       " |   7    |    0.0    |  0.0   |\n",
       " |   8    |    0.0    |  0.0   |\n",
       " |   9    |    0.0    |  0.0   |\n",
       " |   10   |    0.0    |  0.0   |\n",
       " +--------+-----------+--------+\n",
       " [18 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_item': Columns:\n",
       " \tbook_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 10000\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | book_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |   7899  |   39  | 0.73831464459  |\n",
       " |   5288  |   36  | 0.934596878462 |\n",
       " |   3143  |   82  | 1.06583845906  |\n",
       " |   6769  |   30  | 0.896043841403 |\n",
       " |   5684  |   46  | 1.04445265004  |\n",
       " |   2779  |   47  |  1.0449453836  |\n",
       " |   8455  |   13  | 1.15672902445  |\n",
       " |   118   |  840  | 0.981942447782 |\n",
       " |   3988  |   77  | 0.882446200879 |\n",
       " |   5783  |   28  | 1.17739724005  |\n",
       " +---------+-------+----------------+\n",
       " [10000 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 53419\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | user_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |  21855  |   15  | 0.974991106731 |\n",
       " |   7899  |   11  | 1.09575745825  |\n",
       " |  25263  |   12  | 1.02981920694  |\n",
       " |  30621  |   15  | 0.774463730657 |\n",
       " |  43116  |   20  | 0.852094438341 |\n",
       " |  27112  |   17  | 0.911763489292 |\n",
       " |  26319  |   15  | 0.843977213497 |\n",
       " |  26439  |   14  | 1.10285776157  |\n",
       " |   5288  |   14  | 1.15514905204  |\n",
       " |  19584  |   17  | 0.723789839405 |\n",
       " +---------+-------+----------------+\n",
       " [53419 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_overall': 0.9476967658591412}"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#evaluation the item similarity model on validation datset\n",
    "item_sim_model.evaluate(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.8981291600199082"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#predicting for validation dataset\n",
    "pred_item_sim= item_sim_model.predict(validation_data)\n",
    "# calculating the RMSE\n",
    "rmse_item_sim= sum((pred_item_sim-validation_data[\"rating\"])**2)/len(validation_data)\n",
    "rmse_item_sim"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 564.712</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 564.712"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 788.485</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 788.485"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 934.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 934.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1035.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1035.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1096.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1096.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1091.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1091.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1144.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1144.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1186.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1186.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1213.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1213.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1235.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1235.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1253.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1253.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1259.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1259.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1265.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1265.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1265.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1265.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1277.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1277.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1290.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1290.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1297.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1297.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1309.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1309.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1324.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1324.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1328.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1328.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1340.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1340.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1347.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1347.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1358.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1358.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1359.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1359.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1359.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1359.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1370.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1370.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1379.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1379.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1389.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1389.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1388.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1388.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1394.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1394.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1402.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1402.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1407.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1407.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1414.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1414.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1418.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1418.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1423.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1423.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1421.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1421.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1424.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1424.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1429.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1429.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1434.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1434.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1438.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1438.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1443.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1443.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1447.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1447.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1452.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1452.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1455.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1455.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1459.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1459.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1461.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1461.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1464.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1464.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1467.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1467.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1471.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1471.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1474.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1474.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1470.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1470.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1433.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1433.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1397.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1397.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1869.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1869.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1836.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1836.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1596.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1596.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1668.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1668.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1707.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1707.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1734.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1734.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1749.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1749.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1771.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1771.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1782.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1782.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1790.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1790.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1781.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1781.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1774.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1774.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1707.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1707.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1721.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1721.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1734.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1734.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1747.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1747.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1759.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1759.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1767.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1767.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1771.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1771.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1778.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1778.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1783.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1783.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1789.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1789.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1793.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1793.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1797.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1797.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1803.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1803.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1806.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1806.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1811.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1811.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1813.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1813.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1814.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1814.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1814.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1814.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1815.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1815.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1817.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1817.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1820.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1820.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1823.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1823.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1825.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1825.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1827.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1827.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1827.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1827.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1829.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1829.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1831.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1831.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1831.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1831.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1832.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1832.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1831.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1831.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1828.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1828.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1816.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1816.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1800.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1800.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1786.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1786.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1775.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1775.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1764.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1764.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1756.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1756.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1750.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1750.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1752.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1752.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1754.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1754.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1748.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1748.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#Plotting Evaluation Charts\n",
    "view_item_sim_factorization_overview = item_sim_model.views.overview(\n",
    "        validation_set=validation_data)\n",
    "view_item_sim_factorization_overview.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Creating **Matrix Factorization Model**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>Recsys training: model = ranking_factorization_recommender</pre>"
      ],
      "text/plain": [
       "Recsys training: model = ranking_factorization_recommender"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Preparing data set.</pre>"
      ],
      "text/plain": [
       "Preparing data set."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data has 3346828 observations with 53424 users and 10000 items.</pre>"
      ],
      "text/plain": [
       "    Data has 3346828 observations with 53424 users and 10000 items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data prepared in: 3.99453s</pre>"
      ],
      "text/plain": [
       "    Data prepared in: 3.99453s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Training ranking_factorization_recommender for recommendations.</pre>"
      ],
      "text/plain": [
       "Training ranking_factorization_recommender for recommendations."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+--------------------------------------------------+----------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+--------------------------------------------------+----------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Parameter                      | Description                                      | Value    |</pre>"
      ],
      "text/plain": [
       "| Parameter                      | Description                                      | Value    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+--------------------------------------------------+----------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+--------------------------------------------------+----------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| num_factors                    | Factor Dimension                                 | 32       |</pre>"
      ],
      "text/plain": [
       "| num_factors                    | Factor Dimension                                 | 32       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| regularization                 | L2 Regularization on Factors                     | 1e-09    |</pre>"
      ],
      "text/plain": [
       "| regularization                 | L2 Regularization on Factors                     | 1e-09    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| solver                         | Solver used for training                         | sgd      |</pre>"
      ],
      "text/plain": [
       "| solver                         | Solver used for training                         | sgd      |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| linear_regularization          | L2 Regularization on Linear Coefficients         | 1e-09    |</pre>"
      ],
      "text/plain": [
       "| linear_regularization          | L2 Regularization on Linear Coefficients         | 1e-09    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| ranking_regularization         | Rank-based Regularization Weight                 | 0.25     |</pre>"
      ],
      "text/plain": [
       "| ranking_regularization         | Rank-based Regularization Weight                 | 0.25     |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| max_iterations                 | Maximum Number of Iterations                     | 25       |</pre>"
      ],
      "text/plain": [
       "| max_iterations                 | Maximum Number of Iterations                     | 25       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------------------------+--------------------------------------------------+----------+</pre>"
      ],
      "text/plain": [
       "+--------------------------------+--------------------------------------------------+----------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>  Optimizing model using SGD; tuning step size.</pre>"
      ],
      "text/plain": [
       "  Optimizing model using SGD; tuning step size."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>  Using 418353 / 3346828 points for tuning the step size.</pre>"
      ],
      "text/plain": [
       "  Using 418353 / 3346828 points for tuning the step size."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+-------------------+------------------------------------------+</pre>"
      ],
      "text/plain": [
       "+---------+-------------------+------------------------------------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Attempt | Initial Step Size | Estimated Objective Value                |</pre>"
      ],
      "text/plain": [
       "| Attempt | Initial Step Size | Estimated Objective Value                |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+-------------------+------------------------------------------+</pre>"
      ],
      "text/plain": [
       "+---------+-------------------+------------------------------------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 0       | 25                | Not Viable                               |</pre>"
      ],
      "text/plain": [
       "| 0       | 25                | Not Viable                               |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1       | 6.25              | Not Viable                               |</pre>"
      ],
      "text/plain": [
       "| 1       | 6.25              | Not Viable                               |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2       | 1.5625            | Not Viable                               |</pre>"
      ],
      "text/plain": [
       "| 2       | 1.5625            | Not Viable                               |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3       | 0.390625          | Not Viable                               |</pre>"
      ],
      "text/plain": [
       "| 3       | 0.390625          | Not Viable                               |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4       | 0.0976562         | 1.43656                                  |</pre>"
      ],
      "text/plain": [
       "| 4       | 0.0976562         | 1.43656                                  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5       | 0.0488281         | 1.45236                                  |</pre>"
      ],
      "text/plain": [
       "| 5       | 0.0488281         | 1.45236                                  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6       | 0.0244141         | 1.46                                     |</pre>"
      ],
      "text/plain": [
       "| 6       | 0.0244141         | 1.46                                     |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7       | 0.012207          | 1.5021                                   |</pre>"
      ],
      "text/plain": [
       "| 7       | 0.012207          | 1.5021                                   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+-------------------+------------------------------------------+</pre>"
      ],
      "text/plain": [
       "+---------+-------------------+------------------------------------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Final   | 0.0976562         | 1.43656                                  |</pre>"
      ],
      "text/plain": [
       "| Final   | 0.0976562         | 1.43656                                  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+-------------------+------------------------------------------+</pre>"
      ],
      "text/plain": [
       "+---------+-------------------+------------------------------------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Starting Optimization.</pre>"
      ],
      "text/plain": [
       "Starting Optimization."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+--------------+-------------------+-----------------------+-------------+</pre>"
      ],
      "text/plain": [
       "+---------+--------------+-------------------+-----------------------+-------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Iter.   | Elapsed Time | Approx. Objective | Approx. Training RMSE | Step Size   |</pre>"
      ],
      "text/plain": [
       "| Iter.   | Elapsed Time | Approx. Objective | Approx. Training RMSE | Step Size   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+--------------+-------------------+-----------------------+-------------+</pre>"
      ],
      "text/plain": [
       "+---------+--------------+-------------------+-----------------------+-------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Initial | 166us        | 1.92732           | 0.991453              |             |</pre>"
      ],
      "text/plain": [
       "| Initial | 166us        | 1.92732           | 0.991453              |             |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+--------------+-------------------+-----------------------+-------------+</pre>"
      ],
      "text/plain": [
       "+---------+--------------+-------------------+-----------------------+-------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1       | 5.98s        | DIVERGED          | DIVERGED              | 0.0976562   |</pre>"
      ],
      "text/plain": [
       "| 1       | 5.98s        | DIVERGED          | DIVERGED              | 0.0976562   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| RESET   | 7.54s        | 1.92731           | 0.99145               |             |</pre>"
      ],
      "text/plain": [
       "| RESET   | 7.54s        | 1.92731           | 0.99145               |             |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1       | 11.55s       | 1.51793           | 0.990243              | 0.0488281   |</pre>"
      ],
      "text/plain": [
       "| 1       | 11.55s       | 1.51793           | 0.990243              | 0.0488281   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2       | 15.60s       | 1.38054           | 0.944512              | 0.0290334   |</pre>"
      ],
      "text/plain": [
       "| 2       | 15.60s       | 1.38054           | 0.944512              | 0.0290334   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3       | 19.32s       | 1.26971           | 0.895136              | 0.0214205   |</pre>"
      ],
      "text/plain": [
       "| 3       | 19.32s       | 1.26971           | 0.895136              | 0.0214205   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4       | 23.14s       | 1.16962           | 0.856541              | 0.0172633   |</pre>"
      ],
      "text/plain": [
       "| 4       | 23.14s       | 1.16962           | 0.856541              | 0.0172633   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5       | 26.39s       | 1.08693           | 0.819489              | 0.014603    |</pre>"
      ],
      "text/plain": [
       "| 5       | 26.39s       | 1.08693           | 0.819489              | 0.014603    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6       | 29.13s       | 1.02198           | 0.789581              | 0.0127367   |</pre>"
      ],
      "text/plain": [
       "| 6       | 29.13s       | 1.02198           | 0.789581              | 0.0127367   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7       | 31.77s       | 0.973088          | 0.766065              | 0.0113461   |</pre>"
      ],
      "text/plain": [
       "| 7       | 31.77s       | 0.973088          | 0.766065              | 0.0113461   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8       | 34.85s       | 0.934411          | 0.747029              | 0.0102648   |</pre>"
      ],
      "text/plain": [
       "| 8       | 34.85s       | 0.934411          | 0.747029              | 0.0102648   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 9       | 37.38s       | 0.903062          | 0.73152               | 0.00939698  |</pre>"
      ],
      "text/plain": [
       "| 9       | 37.38s       | 0.903062          | 0.73152               | 0.00939698  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 10      | 39.90s       | 0.878107          | 0.718809              | 0.008683    |</pre>"
      ],
      "text/plain": [
       "| 10      | 39.90s       | 0.878107          | 0.718809              | 0.008683    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 11      | 42.40s       | 0.858235          | 0.708412              | 0.00808399  |</pre>"
      ],
      "text/plain": [
       "| 11      | 42.40s       | 0.858235          | 0.708412              | 0.00808399  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 12      | 44.85s       | 0.840422          | 0.699653              | 0.00757328  |</pre>"
      ],
      "text/plain": [
       "| 12      | 44.85s       | 0.840422          | 0.699653              | 0.00757328  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 13      | 47.31s       | 0.825421          | 0.691782              | 0.00713202  |</pre>"
      ],
      "text/plain": [
       "| 13      | 47.31s       | 0.825421          | 0.691782              | 0.00713202  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 14      | 49.84s       | 0.813121          | 0.685231              | 0.00674643  |</pre>"
      ],
      "text/plain": [
       "| 14      | 49.84s       | 0.813121          | 0.685231              | 0.00674643  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 15      | 52.34s       | 0.801877          | 0.679497              | 0.00640622  |</pre>"
      ],
      "text/plain": [
       "| 15      | 52.34s       | 0.801877          | 0.679497              | 0.00640622  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 16      | 54.82s       | 0.792154          | 0.674316              | 0.00610352  |</pre>"
      ],
      "text/plain": [
       "| 16      | 54.82s       | 0.792154          | 0.674316              | 0.00610352  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 17      | 57.27s       | 0.783661          | 0.669719              | 0.00583221  |</pre>"
      ],
      "text/plain": [
       "| 17      | 57.27s       | 0.783661          | 0.669719              | 0.00583221  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 18      | 59.73s       | 0.776318          | 0.665761              | 0.00558748  |</pre>"
      ],
      "text/plain": [
       "| 18      | 59.73s       | 0.776318          | 0.665761              | 0.00558748  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 19      | 1m 2s        | 0.769578          | 0.662103              | 0.00536543  |</pre>"
      ],
      "text/plain": [
       "| 19      | 1m 2s        | 0.769578          | 0.662103              | 0.00536543  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 20      | 1m 4s        | 0.763241          | 0.658809              | 0.00516295  |</pre>"
      ],
      "text/plain": [
       "| 20      | 1m 4s        | 0.763241          | 0.658809              | 0.00516295  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 21      | 1m 7s        | 0.757719          | 0.655802              | 0.00497743  |</pre>"
      ],
      "text/plain": [
       "| 21      | 1m 7s        | 0.757719          | 0.655802              | 0.00497743  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 22      | 1m 9s        | 0.75248           | 0.652973              | 0.00480677  |</pre>"
      ],
      "text/plain": [
       "| 22      | 1m 9s        | 0.75248           | 0.652973              | 0.00480677  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 23      | 1m 12s       | 0.748195          | 0.650542              | 0.00464916  |</pre>"
      ],
      "text/plain": [
       "| 23      | 1m 12s       | 0.748195          | 0.650542              | 0.00464916  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 24      | 1m 14s       | 0.743439          | 0.648176              | 0.0045031   |</pre>"
      ],
      "text/plain": [
       "| 24      | 1m 14s       | 0.743439          | 0.648176              | 0.0045031   |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 25      | 1m 17s       | 0.739259          | 0.646046              | 0.00436732  |</pre>"
      ],
      "text/plain": [
       "| 25      | 1m 17s       | 0.739259          | 0.646046              | 0.00436732  |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+---------+--------------+-------------------+-----------------------+-------------+</pre>"
      ],
      "text/plain": [
       "+---------+--------------+-------------------+-----------------------+-------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Optimization Complete: Maximum number of passes through the data reached.</pre>"
      ],
      "text/plain": [
       "Optimization Complete: Maximum number of passes through the data reached."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Computing final objective value and training RMSE.</pre>"
      ],
      "text/plain": [
       "Computing final objective value and training RMSE."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>       Final objective value: 0.70137</pre>"
      ],
      "text/plain": [
       "       Final objective value: 0.70137"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>       Final training RMSE: 0.61435</pre>"
      ],
      "text/plain": [
       "       Final training RMSE: 0.61435"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = graphlab.recommender.create(training_data, user_id='user_id', item_id='book_id', target='rating')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Class                            : RankingFactorizationRecommender\n",
       "\n",
       "Schema\n",
       "------\n",
       "User ID                          : user_id\n",
       "Item ID                          : book_id\n",
       "Target                           : rating\n",
       "Additional observation features  : 0\n",
       "User side features               : []\n",
       "Item side features               : []\n",
       "\n",
       "Statistics\n",
       "----------\n",
       "Number of observations           : 3346828\n",
       "Number of users                  : 53424\n",
       "Number of items                  : 10000\n",
       "\n",
       "Training summary\n",
       "----------------\n",
       "Training time                    : 88.4635\n",
       "\n",
       "Model Parameters\n",
       "----------------\n",
       "Model class                      : RankingFactorizationRecommender\n",
       "num_factors                      : 32\n",
       "binary_target                    : 0\n",
       "side_data_factorization          : 1\n",
       "solver                           : auto\n",
       "nmf                              : 0\n",
       "max_iterations                   : 25\n",
       "\n",
       "Regularization Settings\n",
       "-----------------------\n",
       "regularization                   : 0.0\n",
       "regularization_type              : normal\n",
       "linear_regularization            : 0.0\n",
       "ranking_regularization           : 0.25\n",
       "unobserved_rating_value          : -1.79769313486e+308\n",
       "num_sampled_negative_examples    : 4\n",
       "ials_confidence_scaling_type     : auto\n",
       "ials_confidence_scaling_factor   : 1\n",
       "\n",
       "Optimization Settings\n",
       "---------------------\n",
       "init_random_sigma                : 0.01\n",
       "sgd_convergence_interval         : 4\n",
       "sgd_convergence_threshold        : 0.0\n",
       "sgd_max_trial_iterations         : 5\n",
       "sgd_sampling_block_size          : 131072\n",
       "sgd_step_adjustment_interval     : 4\n",
       "sgd_step_size                    : 0.0\n",
       "sgd_trial_sample_minimum_size    : 10000\n",
       "sgd_trial_sample_proportion      : 0.125\n",
       "step_size_decrease_rate          : 0.75\n",
       "additional_iterations_if_unhealthy : 5\n",
       "adagrad_momentum_weighting       : 0.9\n",
       "num_tempering_iterations         : 4\n",
       "tempering_regularization_start_value : 0.0\n",
       "track_exact_loss                 : 0"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Describing the Matrix Factorization Model\n",
    "model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'book_id': Columns:\n",
       " \tbook_id\tint\n",
       " \tlinear_terms\tfloat\n",
       " \tfactors\tarray\n",
       " \n",
       " Rows: 10000\n",
       " \n",
       " Data:\n",
       " +---------+-----------------+-------------------------------+\n",
       " | book_id |   linear_terms  |            factors            |\n",
       " +---------+-----------------+-------------------------------+\n",
       " |    84   | -0.371593117714 | [-0.423852473497, -0.00450... |\n",
       " |   104   | -0.554282426834 | [-0.334524482489, -0.64081... |\n",
       " |   1764  |  -1.88766741753 | [-1.19560801983, 0.5243352... |\n",
       " |   324   |  -1.27253437042 | [-0.123710893095, 0.628277... |\n",
       " |   289   | -0.439838886261 | [-0.0075624268502, -0.0377... |\n",
       " |    2    |  0.48816549778  | [-0.335482567549, 0.978480... |\n",
       " |   1967  |  -1.73374760151 | [0.7347240448, -0.96903371... |\n",
       " |   6188  |  -2.11757946014 | [-1.02428019047, -1.198849... |\n",
       " |    23   | 0.0888526439667 | [-0.610902965069, 0.709933... |\n",
       " |   8865  |  -1.96038877964 | [-0.248669147491, 0.085508... |\n",
       " +---------+-----------------+-------------------------------+\n",
       " [10000 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'intercept': 3.92026659272601,\n",
       " 'user_id': Columns:\n",
       " \tuser_id\tint\n",
       " \tlinear_terms\tfloat\n",
       " \tfactors\tarray\n",
       " \n",
       " Rows: 53424\n",
       " \n",
       " Data:\n",
       " +---------+------------------+-------------------------------+\n",
       " | user_id |   linear_terms   |            factors            |\n",
       " +---------+------------------+-------------------------------+\n",
       " |  42970  | -0.462055951357  | [-0.782768428326, 0.221912... |\n",
       " |   4128  | -0.480002135038  | [0.298604041338, -0.132488... |\n",
       " |  41948  | -0.631141901016  | [-0.130787700415, -0.07904... |\n",
       " |   2443  | -0.749792933464  | [-0.188380196691, -0.11956... |\n",
       " |  11399  | -0.186269924045  | [0.193891614676, -0.397659... |\n",
       " |  44826  | -0.185983359814  | [-0.512159764767, 0.407631... |\n",
       " |  24500  | -0.0748085603118 | [0.0483804009855, -0.39341... |\n",
       " |  49874  | -0.283271700144  | [-0.517304420471, -0.45189... |\n",
       " |  48859  | -0.602083444595  | [-0.255659371614, -0.68608... |\n",
       " |   2849  | 0.0669170990586  | [-0.0807861462235, 0.33420... |\n",
       " +---------+------------------+-------------------------------+\n",
       " [53424 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.}"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# getting the Matrix Factorization model Coefficients \n",
    "model.get(\"coefficients\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53424 queries. users per second: 3936.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53424 queries. users per second: 3936.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53424 queries. users per second: 5608.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53424 queries. users per second: 5608.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53424 queries. users per second: 6184.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53424 queries. users per second: 6184.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53424 queries. users per second: 6492.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53424 queries. users per second: 6492.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53424 queries. users per second: 6491.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53424 queries. users per second: 6491.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53424 queries. users per second: 6389.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53424 queries. users per second: 6389.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53424 queries. users per second: 6718.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53424 queries. users per second: 6718.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53424 queries. users per second: 6818.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53424 queries. users per second: 6818.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53424 queries. users per second: 6943.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53424 queries. users per second: 6943.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53424 queries. users per second: 6976.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53424 queries. users per second: 6976.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53424 queries. users per second: 6944.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53424 queries. users per second: 6944.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53424 queries. users per second: 6894.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53424 queries. users per second: 6894.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53424 queries. users per second: 6951.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53424 queries. users per second: 6951.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53424 queries. users per second: 7082.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53424 queries. users per second: 7082.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53424 queries. users per second: 7128.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53424 queries. users per second: 7128.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53424 queries. users per second: 7299.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53424 queries. users per second: 7299.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53424 queries. users per second: 7283.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53424 queries. users per second: 7283.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53424 queries. users per second: 7355.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53424 queries. users per second: 7355.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53424 queries. users per second: 7402.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53424 queries. users per second: 7402.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53424 queries. users per second: 7471.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53424 queries. users per second: 7471.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53424 queries. users per second: 7504.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53424 queries. users per second: 7504.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53424 queries. users per second: 7503.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53424 queries. users per second: 7503.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53424 queries. users per second: 7547.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53424 queries. users per second: 7547.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53424 queries. users per second: 7591.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53424 queries. users per second: 7591.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53424 queries. users per second: 7634.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53424 queries. users per second: 7634.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53424 queries. users per second: 7651.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53424 queries. users per second: 7651.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53424 queries. users per second: 7683.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53424 queries. users per second: 7683.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53424 queries. users per second: 7683.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53424 queries. users per second: 7683.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53424 queries. users per second: 7749.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53424 queries. users per second: 7749.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53424 queries. users per second: 7770.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53424 queries. users per second: 7770.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53424 queries. users per second: 7767.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53424 queries. users per second: 7767.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53424 queries. users per second: 7785.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53424 queries. users per second: 7785.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53424 queries. users per second: 7798.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53424 queries. users per second: 7798.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53424 queries. users per second: 7804.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53424 queries. users per second: 7804.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53424 queries. users per second: 7741.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53424 queries. users per second: 7741.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53424 queries. users per second: 7705.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53424 queries. users per second: 7705.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53424 queries. users per second: 7746.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53424 queries. users per second: 7746.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53424 queries. users per second: 7771.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53424 queries. users per second: 7771.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53424 queries. users per second: 7782.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53424 queries. users per second: 7782.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53424 queries. users per second: 7826.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53424 queries. users per second: 7826.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53424 queries. users per second: 7826</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53424 queries. users per second: 7826"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53424 queries. users per second: 7831.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53424 queries. users per second: 7831.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53424 queries. users per second: 7871.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53424 queries. users per second: 7871.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53424 queries. users per second: 7879.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53424 queries. users per second: 7879.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53424 queries. users per second: 7910.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53424 queries. users per second: 7910.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53424 queries. users per second: 7917.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53424 queries. users per second: 7917.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53424 queries. users per second: 7873.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53424 queries. users per second: 7873.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53424 queries. users per second: 7877.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53424 queries. users per second: 7877.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53424 queries. users per second: 7898.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53424 queries. users per second: 7898.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53424 queries. users per second: 7904.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53424 queries. users per second: 7904.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53424 queries. users per second: 7922.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53424 queries. users per second: 7922.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53424 queries. users per second: 7934.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53424 queries. users per second: 7934.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53424 queries. users per second: 7916.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53424 queries. users per second: 7916.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#Matrix Factorization recommending for the training dataset\n",
    "recom_model= model.recommend()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "+---------+---------+---------------+------+\n",
      "| user_id | book_id |     score     | rank |\n",
      "+---------+---------+---------------+------+\n",
      "|  42970  |   258   | 6.20541232251 |  1   |\n",
      "|  42970  |   155   | 5.55616229199 |  2   |\n",
      "|  42970  |    32   | 5.50704019688 |  3   |\n",
      "|  42970  |   189   | 5.50466483258 |  4   |\n",
      "|  42970  |   161   | 5.49629705571 |  5   |\n",
      "|  42970  |   964   | 5.44522493504 |  6   |\n",
      "|  42970  |    19   | 5.38090127133 |  7   |\n",
      "|  42970  |   135   | 5.32436876915 |  8   |\n",
      "|  42970  |    89   | 5.29211693428 |  9   |\n",
      "|  42970  |    60   | 5.27711289547 |  10  |\n",
      "|   4128  |   2003  | 5.19892596625 |  1   |\n",
      "|   4128  |    40   | 5.19165932558 |  2   |\n",
      "|   4128  |   193   | 5.09326362036 |  3   |\n",
      "|   4128  |   2216  | 5.02113687418 |  4   |\n",
      "|   4128  |   850   | 4.98883437537 |  5   |\n",
      "|   4128  |   1198  |  4.9008736553 |  6   |\n",
      "|   4128  |    81   | 4.89483999632 |  7   |\n",
      "|   4128  |   1271  | 4.79159497641 |  8   |\n",
      "|   4128  |   1524  | 4.78075956725 |  9   |\n",
      "|   4128  |   1798  | 4.77361606978 |  10  |\n",
      "|  41948  |   4061  | 6.12314196847 |  1   |\n",
      "|  41948  |   3679  | 5.93610116266 |  2   |\n",
      "|  41948  |   753   | 5.87536832117 |  3   |\n",
      "|  41948  |   4739  | 5.80477997087 |  4   |\n",
      "|  41948  |    70   | 5.72864838861 |  5   |\n",
      "|  41948  |   4881  | 5.64169665597 |  6   |\n",
      "|  41948  |   5331  | 5.56101890825 |  7   |\n",
      "|  41948  |   499   | 5.53006240152 |  8   |\n",
      "|  41948  |   3932  | 5.51406546853 |  9   |\n",
      "|  41948  |   2852  | 5.50321742319 |  10  |\n",
      "|   2443  |   6659  | 4.59320863508 |  1   |\n",
      "|   2443  |   1957  | 4.51077195428 |  2   |\n",
      "|   2443  |    43   | 4.45040019773 |  3   |\n",
      "|   2443  |   2848  | 4.36696919225 |  4   |\n",
      "|   2443  |   2018  | 4.29556318544 |  5   |\n",
      "|   2443  |   673   | 4.25764473699 |  6   |\n",
      "|   2443  |   983   | 4.24742683195 |  7   |\n",
      "|   2443  |   2905  | 4.20632883333 |  8   |\n",
      "|   2443  |   1385  | 4.16336401723 |  9   |\n",
      "|   2443  |   1065  | 4.13947173379 |  10  |\n",
      "|  11399  |   104   | 6.30592874609 |  1   |\n",
      "|  11399  |   3825  | 5.73979119383 |  2   |\n",
      "|  11399  |   146   | 5.48436955534 |  3   |\n",
      "|  11399  |   564   | 5.42171398722 |  4   |\n",
      "|  11399  |   5605  | 5.35172394834 |  5   |\n",
      "|  11399  |   147   | 5.33944300733 |  6   |\n",
      "|  11399  |   1451  | 5.31310073458 |  7   |\n",
      "|  11399  |   4001  | 5.24613229357 |  8   |\n",
      "|  11399  |   1050  | 5.23774317823 |  9   |\n",
      "|  11399  |   2424  | 5.20192829691 |  10  |\n",
      "|  44826  |   2095  | 5.75891568683 |  1   |\n",
      "|  44826  |   810   | 5.73074295543 |  2   |\n",
      "|  44826  |   1775  | 5.70697369598 |  3   |\n",
      "|  44826  |   3078  | 5.66764273666 |  4   |\n",
      "|  44826  |   9319  | 5.57281329654 |  5   |\n",
      "|  44826  |   2894  | 5.55270602725 |  6   |\n",
      "|  44826  |   817   | 5.49772646449 |  7   |\n",
      "|  44826  |   2642  | 5.42685940288 |  8   |\n",
      "|  44826  |   8172  | 5.42471077465 |  9   |\n",
      "|  44826  |   7966  | 5.41666510127 |  10  |\n",
      "|  24500  |    45   | 4.63845718078 |  1   |\n",
      "|  24500  |   2781  | 4.45609343223 |  2   |\n",
      "|  24500  |   637   | 4.40562397413 |  3   |\n",
      "|  24500  |   270   | 4.38882804088 |  4   |\n",
      "|  24500  |    43   | 4.36105907135 |  5   |\n",
      "|  24500  |   2421  | 4.35606587104 |  6   |\n",
      "|  24500  |   1180  | 4.34826421909 |  7   |\n",
      "|  24500  |   121   |  4.2819646018 |  8   |\n",
      "|  24500  |    36   | 4.27401614361 |  9   |\n",
      "|  24500  |   1980  | 4.23538720779 |  10  |\n",
      "|  49874  |   103   | 5.41496818684 |  1   |\n",
      "|  49874  |   126   | 5.05931811951 |  2   |\n",
      "|  49874  |   840   |  4.995695168  |  3   |\n",
      "|  49874  |    1    | 4.92832070015 |  4   |\n",
      "|  49874  |   485   | 4.85632424973 |  5   |\n",
      "|  49874  |   255   | 4.84923749588 |  6   |\n",
      "|  49874  |    39   | 4.83069353722 |  7   |\n",
      "|  49874  |   573   | 4.81560557507 |  8   |\n",
      "|  49874  |   722   | 4.81022613667 |  9   |\n",
      "|  49874  |   193   | 4.80744772576 |  10  |\n",
      "|  48859  |   232   | 5.44856044076 |  1   |\n",
      "|  48859  |   135   | 5.36636086725 |  2   |\n",
      "|  48859  |   1698  | 5.36322995447 |  3   |\n",
      "|  48859  |   1690  | 5.32046767496 |  4   |\n",
      "|  48859  |   110   | 5.18414779924 |  5   |\n",
      "|  48859  |   1630  | 5.13607593797 |  6   |\n",
      "|  48859  |    27   | 5.12033220552 |  7   |\n",
      "|  48859  |   1280  | 5.11287804864 |  8   |\n",
      "|  48859  |   1528  | 5.07102724336 |  9   |\n",
      "|  48859  |   307   | 5.04713162206 |  10  |\n",
      "|   2849  |   744   | 5.19671344928 |  1   |\n",
      "|   2849  |   472   | 5.07025134735 |  2   |\n",
      "|   2849  |    85   | 5.05211377315 |  3   |\n",
      "|   2849  |   2548  |  5.0253930109 |  4   |\n",
      "|   2849  |    3    | 4.95174759798 |  5   |\n",
      "|   2849  |   2132  |  4.9198343771 |  6   |\n",
      "|   2849  |   211   | 4.82655108146 |  7   |\n",
      "|   2849  |    38   | 4.79504585437 |  8   |\n",
      "|   2849  |   127   | 4.77093190126 |  9   |\n",
      "|   2849  |   193   |  4.6769000309 |  10  |\n",
      "+---------+---------+---------------+------+\n",
      "[534240 rows x 4 columns]\n",
      "\n"
     ]
    }
   ],
   "source": [
    "# Prining 100 rows of the books recommended to the users in the training dataset.\n",
    "recom_model.print_rows(num_rows=100)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "# Predicting the rating of the books for the users in the validation dataset\n",
    "pred=model.predict(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1.1326527768869492"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# calculating the RMSE\n",
    "sum((pred-validation_data[\"rating\"])**2)/len(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>Less than 4 successfully started. Using only 3 workers.</pre>"
      ],
      "text/plain": [
       "Less than 4 successfully started. Using only 3 workers."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>All operations will proceed as normal, but lambda operations will not be able to use all available cores.</pre>"
      ],
      "text/plain": [
       "All operations will proceed as normal, but lambda operations will not be able to use all available cores."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>(The location of the log file is printed at the start of the GraphLab server).</pre>"
      ],
      "text/plain": [
       "(The location of the log file is printed at the start of the GraphLab server)."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": [
       "{'rmse_by_item': Columns:\n",
       " \tbook_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 10000\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | book_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |   7899  |   31  | 1.02627624187  |\n",
       " |   5288  |   57  | 1.09901040599  |\n",
       " |   3143  |   63  | 1.08130707845  |\n",
       " |   6769  |   32  | 1.32712029334  |\n",
       " |   5684  |   37  | 0.541691928137 |\n",
       " |   2779  |   58  | 0.79439914799  |\n",
       " |   8455  |   26  | 1.49920750411  |\n",
       " |   118   |  873  | 0.937086143214 |\n",
       " |   3988  |   68  | 1.00887314943  |\n",
       " |   5783  |   21  | 1.28743827249  |\n",
       " +---------+-------+----------------+\n",
       " [10000 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 53418\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | user_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |  21855  |   19  | 0.979131781233 |\n",
       " |   7899  |   10  | 0.961549571754 |\n",
       " |  25263  |   12  | 1.38863605735  |\n",
       " |  30621  |   7   |  1.1473691638  |\n",
       " |  43116  |   18  | 1.39985775277  |\n",
       " |  27112  |   20  | 0.96786091402  |\n",
       " |  26319  |   12  | 0.816475172189 |\n",
       " |  26439  |   16  | 0.624185622184 |\n",
       " |   5288  |   15  | 0.787275412956 |\n",
       " |  19584  |   13  | 1.07429253237  |\n",
       " +---------+-------+----------------+\n",
       " [53418 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_overall': 1.064261611112098}"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Evaluating RMSE the model\n",
    "model.evaluate_rmse(validation_data,target=\"rating\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53418 queries. users per second: 942.958</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53418 queries. users per second: 942.958"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53418 queries. users per second: 1107.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53418 queries. users per second: 1107.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53418 queries. users per second: 1225.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53418 queries. users per second: 1225.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53418 queries. users per second: 1330.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53418 queries. users per second: 1330.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53418 queries. users per second: 1400.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53418 queries. users per second: 1400.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53418 queries. users per second: 1444.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53418 queries. users per second: 1444.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53418 queries. users per second: 1480.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53418 queries. users per second: 1480.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53418 queries. users per second: 1507.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53418 queries. users per second: 1507.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53418 queries. users per second: 1522.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53418 queries. users per second: 1522.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53418 queries. users per second: 1545.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53418 queries. users per second: 1545.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53418 queries. users per second: 1561.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53418 queries. users per second: 1561.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53418 queries. users per second: 1574.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53418 queries. users per second: 1574.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53418 queries. users per second: 1564.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53418 queries. users per second: 1564.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53418 queries. users per second: 1528.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53418 queries. users per second: 1528.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53418 queries. users per second: 1534.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53418 queries. users per second: 1534.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53418 queries. users per second: 1549.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53418 queries. users per second: 1549.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53418 queries. users per second: 1560.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53418 queries. users per second: 1560.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53418 queries. users per second: 1537.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53418 queries. users per second: 1537.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53418 queries. users per second: 1527.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53418 queries. users per second: 1527.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53418 queries. users per second: 1538.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53418 queries. users per second: 1538.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53418 queries. users per second: 1549.62</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53418 queries. users per second: 1549.62"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53418 queries. users per second: 1558.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53418 queries. users per second: 1558.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53418 queries. users per second: 1565.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53418 queries. users per second: 1565.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53418 queries. users per second: 1574.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53418 queries. users per second: 1574.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53418 queries. users per second: 1580.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53418 queries. users per second: 1580.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53418 queries. users per second: 1587.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53418 queries. users per second: 1587.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53418 queries. users per second: 1593.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53418 queries. users per second: 1593.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53418 queries. users per second: 1600.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53418 queries. users per second: 1600.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53418 queries. users per second: 1604.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53418 queries. users per second: 1604.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53418 queries. users per second: 1608.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53418 queries. users per second: 1608.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53418 queries. users per second: 1611.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53418 queries. users per second: 1611.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53418 queries. users per second: 1603.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53418 queries. users per second: 1603.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53418 queries. users per second: 1592.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53418 queries. users per second: 1592.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53418 queries. users per second: 1593.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53418 queries. users per second: 1593.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53418 queries. users per second: 1580.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53418 queries. users per second: 1580.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53418 queries. users per second: 1565.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53418 queries. users per second: 1565.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53418 queries. users per second: 1565.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53418 queries. users per second: 1565.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53418 queries. users per second: 1570.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53418 queries. users per second: 1570.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53418 queries. users per second: 1575.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53418 queries. users per second: 1575.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53418 queries. users per second: 1579.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53418 queries. users per second: 1579.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53418 queries. users per second: 1583.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53418 queries. users per second: 1583.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53418 queries. users per second: 1579.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53418 queries. users per second: 1579.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53418 queries. users per second: 1583.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53418 queries. users per second: 1583.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53418 queries. users per second: 1585.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53418 queries. users per second: 1585.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53418 queries. users per second: 1589.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53418 queries. users per second: 1589.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53418 queries. users per second: 1591.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53418 queries. users per second: 1591.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53418 queries. users per second: 1593.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53418 queries. users per second: 1593.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53418 queries. users per second: 1596.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53418 queries. users per second: 1596.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53418 queries. users per second: 1597.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53418 queries. users per second: 1597.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53418 queries. users per second: 1600.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53418 queries. users per second: 1600.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53418 queries. users per second: 1601.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53418 queries. users per second: 1601.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53418 queries. users per second: 1603.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53418 queries. users per second: 1603.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53418 queries. users per second: 1604.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53418 queries. users per second: 1604.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    | 0.0706316222996 | 0.00472031173148 |\n",
      "|   2    |  0.069105919353 | 0.00915888144489 |\n",
      "|   3    | 0.0673306126524 | 0.0134076511992  |\n",
      "|   4    | 0.0663353176832 | 0.0175183750832  |\n",
      "|   5    | 0.0649818413269 | 0.0213859606408  |\n",
      "|   6    | 0.0640233629114 | 0.0252320867438  |\n",
      "|   7    | 0.0629161919738 | 0.0289202119205  |\n",
      "|   8    |  0.06219813546  | 0.0327021435552  |\n",
      "|   9    | 0.0612257208348 | 0.0361382309527  |\n",
      "|   10   | 0.0605582387959 | 0.0397103033097  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "('\\nOverall RMSE: ', 1.064261611112098)\n",
      "\n",
      "Per User RMSE (best)\n",
      "+---------+-------+------------------+\n",
      "| user_id | count |       rmse       |\n",
      "+---------+-------+------------------+\n",
      "|  27968  |   1   | 0.00108117781569 |\n",
      "+---------+-------+------------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per User RMSE (worst)\n",
      "+---------+-------+---------------+\n",
      "| user_id | count |      rmse     |\n",
      "+---------+-------+---------------+\n",
      "|  22118  |   18  | 3.03191531154 |\n",
      "+---------+-------+---------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (best)\n",
      "+---------+-------+----------------+\n",
      "| book_id | count |      rmse      |\n",
      "+---------+-------+----------------+\n",
      "|   1390  |  150  | 0.382251995265 |\n",
      "+---------+-------+----------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (worst)\n",
      "+---------+-------+---------------+\n",
      "| book_id | count |      rmse     |\n",
      "+---------+-------+---------------+\n",
      "|   1935  |   3   | 2.44903426634 |\n",
      "+---------+-------+---------------+\n",
      "[1 rows x 3 columns]\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "{'precision_recall_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \tcount\tint\n",
       " \n",
       " Rows: 961524\n",
       " \n",
       " Data:\n",
       " +---------+--------+-----------+--------+-------+\n",
       " | user_id | cutoff | precision | recall | count |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " |    1    |   1    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   2    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   3    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   4    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   5    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   6    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   7    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   8    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   9    |    0.0    |  0.0   |   12  |\n",
       " |    1    |   10   |    0.0    |  0.0   |   12  |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " [961524 rows x 5 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'precision_recall_overall': Columns:\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \n",
       " Rows: 18\n",
       " \n",
       " Data:\n",
       " +--------+-----------------+------------------+\n",
       " | cutoff |    precision    |      recall      |\n",
       " +--------+-----------------+------------------+\n",
       " |   1    | 0.0706316222996 | 0.00472031173148 |\n",
       " |   2    |  0.069105919353 | 0.00915888144489 |\n",
       " |   3    | 0.0673306126524 | 0.0134076511992  |\n",
       " |   4    | 0.0663353176832 | 0.0175183750832  |\n",
       " |   5    | 0.0649818413269 | 0.0213859606408  |\n",
       " |   6    | 0.0640233629114 | 0.0252320867438  |\n",
       " |   7    | 0.0629161919738 | 0.0289202119205  |\n",
       " |   8    |  0.06219813546  | 0.0327021435552  |\n",
       " |   9    | 0.0612257208348 | 0.0361382309527  |\n",
       " |   10   | 0.0605582387959 | 0.0397103033097  |\n",
       " +--------+-----------------+------------------+\n",
       " [18 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_item': Columns:\n",
       " \tbook_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 10000\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | book_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |   7899  |   31  | 1.02627624187  |\n",
       " |   5288  |   57  | 1.09901040599  |\n",
       " |   3143  |   63  | 1.08130707845  |\n",
       " |   6769  |   32  | 1.32712029334  |\n",
       " |   5684  |   37  | 0.541691928137 |\n",
       " |   2779  |   58  | 0.79439914799  |\n",
       " |   8455  |   26  | 1.49920750411  |\n",
       " |   118   |  873  | 0.937086143214 |\n",
       " |   3988  |   68  | 1.00887314943  |\n",
       " |   5783  |   21  | 1.28743827249  |\n",
       " +---------+-------+----------------+\n",
       " [10000 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 53418\n",
       " \n",
       " Data:\n",
       " +---------+-------+----------------+\n",
       " | user_id | count |      rmse      |\n",
       " +---------+-------+----------------+\n",
       " |  21855  |   19  | 0.979131781233 |\n",
       " |   7899  |   10  | 0.961549571754 |\n",
       " |  25263  |   12  | 1.38863605735  |\n",
       " |  30621  |   7   |  1.1473691638  |\n",
       " |  43116  |   18  | 1.39985775277  |\n",
       " |  27112  |   20  | 0.96786091402  |\n",
       " |  26319  |   12  | 0.816475172189 |\n",
       " |  26439  |   16  | 0.624185622184 |\n",
       " |   5288  |   15  | 0.787275412956 |\n",
       " |  19584  |   13  | 1.07429253237  |\n",
       " +---------+-------+----------------+\n",
       " [53418 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_overall': 1.064261611112098}"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Evaluating the Matrix Factorization Model\n",
    "model.evaluate(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53418 queries. users per second: 1217.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53418 queries. users per second: 1217.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53418 queries. users per second: 1422.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53418 queries. users per second: 1422.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53418 queries. users per second: 1463.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53418 queries. users per second: 1463.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53418 queries. users per second: 1504.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53418 queries. users per second: 1504.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53418 queries. users per second: 1497.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53418 queries. users per second: 1497.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53418 queries. users per second: 1495.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53418 queries. users per second: 1495.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53418 queries. users per second: 1450.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53418 queries. users per second: 1450.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53418 queries. users per second: 1418.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53418 queries. users per second: 1418.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53418 queries. users per second: 1409.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53418 queries. users per second: 1409.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53418 queries. users per second: 1420.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53418 queries. users per second: 1420.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53418 queries. users per second: 1425.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53418 queries. users per second: 1425.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53418 queries. users per second: 1448.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53418 queries. users per second: 1448.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53418 queries. users per second: 1464.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53418 queries. users per second: 1464.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53418 queries. users per second: 1453.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53418 queries. users per second: 1453.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53418 queries. users per second: 1451.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53418 queries. users per second: 1451.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53418 queries. users per second: 1427.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53418 queries. users per second: 1427.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53418 queries. users per second: 1410.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53418 queries. users per second: 1410.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53418 queries. users per second: 1388.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53418 queries. users per second: 1388.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53418 queries. users per second: 1397.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53418 queries. users per second: 1397.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53418 queries. users per second: 1412.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53418 queries. users per second: 1412.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53418 queries. users per second: 1425.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53418 queries. users per second: 1425.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53418 queries. users per second: 1436.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53418 queries. users per second: 1436.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53418 queries. users per second: 1448.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53418 queries. users per second: 1448.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53418 queries. users per second: 1455.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53418 queries. users per second: 1455.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53418 queries. users per second: 1453.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53418 queries. users per second: 1453.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53418 queries. users per second: 1459.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53418 queries. users per second: 1459.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53418 queries. users per second: 1465.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53418 queries. users per second: 1465.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53418 queries. users per second: 1461.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53418 queries. users per second: 1461.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53418 queries. users per second: 1458.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53418 queries. users per second: 1458.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53418 queries. users per second: 1450.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53418 queries. users per second: 1450.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53418 queries. users per second: 1443.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53418 queries. users per second: 1443.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53418 queries. users per second: 1427.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53418 queries. users per second: 1427.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53418 queries. users per second: 1418.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53418 queries. users per second: 1418.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53418 queries. users per second: 1408.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53418 queries. users per second: 1408.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53418 queries. users per second: 1395.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53418 queries. users per second: 1395.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53418 queries. users per second: 1386.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53418 queries. users per second: 1386.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53418 queries. users per second: 1361.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53418 queries. users per second: 1361.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53418 queries. users per second: 1354.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53418 queries. users per second: 1354.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53418 queries. users per second: 1355.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53418 queries. users per second: 1355.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53418 queries. users per second: 1355.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53418 queries. users per second: 1355.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53418 queries. users per second: 1361.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53418 queries. users per second: 1361.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53418 queries. users per second: 1368.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53418 queries. users per second: 1368.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53418 queries. users per second: 1373.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53418 queries. users per second: 1373.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53418 queries. users per second: 1369.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53418 queries. users per second: 1369.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53418 queries. users per second: 1363.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53418 queries. users per second: 1363.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53418 queries. users per second: 1365.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53418 queries. users per second: 1365.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53418 queries. users per second: 1359.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53418 queries. users per second: 1359.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53418 queries. users per second: 1353.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53418 queries. users per second: 1353.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53418 queries. users per second: 1348.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53418 queries. users per second: 1348.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53418 queries. users per second: 1342.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53418 queries. users per second: 1342.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53418 queries. users per second: 1335.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53418 queries. users per second: 1335.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53418 queries. users per second: 1330.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53418 queries. users per second: 1330.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53418 queries. users per second: 1334.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53418 queries. users per second: 1334.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53418 queries. users per second: 1603.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53418 queries. users per second: 1603.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53418 queries. users per second: 1575.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53418 queries. users per second: 1575.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53418 queries. users per second: 1587.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53418 queries. users per second: 1587.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53418 queries. users per second: 1548.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53418 queries. users per second: 1548.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53418 queries. users per second: 1599.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53418 queries. users per second: 1599.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53418 queries. users per second: 1629.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53418 queries. users per second: 1629.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53418 queries. users per second: 1657.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53418 queries. users per second: 1657.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53418 queries. users per second: 1685.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53418 queries. users per second: 1685.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53418 queries. users per second: 1643</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53418 queries. users per second: 1643"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53418 queries. users per second: 1610.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53418 queries. users per second: 1610.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53418 queries. users per second: 1602.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53418 queries. users per second: 1602.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53418 queries. users per second: 1577.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53418 queries. users per second: 1577.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53418 queries. users per second: 1564.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53418 queries. users per second: 1564.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53418 queries. users per second: 1560.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53418 queries. users per second: 1560.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53418 queries. users per second: 1558.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53418 queries. users per second: 1558.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53418 queries. users per second: 1542.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53418 queries. users per second: 1542.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53418 queries. users per second: 1525.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53418 queries. users per second: 1525.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53418 queries. users per second: 1519.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53418 queries. users per second: 1519.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53418 queries. users per second: 1534.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53418 queries. users per second: 1534.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53418 queries. users per second: 1543.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53418 queries. users per second: 1543.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53418 queries. users per second: 1553.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53418 queries. users per second: 1553.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53418 queries. users per second: 1560.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53418 queries. users per second: 1560.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53418 queries. users per second: 1559.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53418 queries. users per second: 1559.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53418 queries. users per second: 1572.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53418 queries. users per second: 1572.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53418 queries. users per second: 1583.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53418 queries. users per second: 1583.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53418 queries. users per second: 1596.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53418 queries. users per second: 1596.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53418 queries. users per second: 1607.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53418 queries. users per second: 1607.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53418 queries. users per second: 1616.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53418 queries. users per second: 1616.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53418 queries. users per second: 1625.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53418 queries. users per second: 1625.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53418 queries. users per second: 1630.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53418 queries. users per second: 1630.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53418 queries. users per second: 1634.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53418 queries. users per second: 1634.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53418 queries. users per second: 1639.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53418 queries. users per second: 1639.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53418 queries. users per second: 1644.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53418 queries. users per second: 1644.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53418 queries. users per second: 1652.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53418 queries. users per second: 1652.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53418 queries. users per second: 1647.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53418 queries. users per second: 1647.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53418 queries. users per second: 1635.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53418 queries. users per second: 1635.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53418 queries. users per second: 1629.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53418 queries. users per second: 1629.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53418 queries. users per second: 1621.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53418 queries. users per second: 1621.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53418 queries. users per second: 1616.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53418 queries. users per second: 1616.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53418 queries. users per second: 1623.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53418 queries. users per second: 1623.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53418 queries. users per second: 1630.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53418 queries. users per second: 1630.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53418 queries. users per second: 1635.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53418 queries. users per second: 1635.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53418 queries. users per second: 1638.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53418 queries. users per second: 1638.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53418 queries. users per second: 1643.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53418 queries. users per second: 1643.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53418 queries. users per second: 1634.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53418 queries. users per second: 1634.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53418 queries. users per second: 1622.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53418 queries. users per second: 1622.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53418 queries. users per second: 1615.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53418 queries. users per second: 1615.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53418 queries. users per second: 1621.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53418 queries. users per second: 1621.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53418 queries. users per second: 1626.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53418 queries. users per second: 1626.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53418 queries. users per second: 1626.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53418 queries. users per second: 1626.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53418 queries. users per second: 1631.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53418 queries. users per second: 1631.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53418 queries. users per second: 1636.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53418 queries. users per second: 1636.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53418 queries. users per second: 1640.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53418 queries. users per second: 1640.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53418 queries. users per second: 1863.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53418 queries. users per second: 1863.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53418 queries. users per second: 1844.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53418 queries. users per second: 1844.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53418 queries. users per second: 1735.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53418 queries. users per second: 1735.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53418 queries. users per second: 1691.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53418 queries. users per second: 1691.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53418 queries. users per second: 1682.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53418 queries. users per second: 1682.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53418 queries. users per second: 1670.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53418 queries. users per second: 1670.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53418 queries. users per second: 1682.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53418 queries. users per second: 1682.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53418 queries. users per second: 1693.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53418 queries. users per second: 1693.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53418 queries. users per second: 1701.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53418 queries. users per second: 1701.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53418 queries. users per second: 1706.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53418 queries. users per second: 1706.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53418 queries. users per second: 1714.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53418 queries. users per second: 1714.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53418 queries. users per second: 1714.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53418 queries. users per second: 1714.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53418 queries. users per second: 1726.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53418 queries. users per second: 1726.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53418 queries. users per second: 1727.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53418 queries. users per second: 1727.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53418 queries. users per second: 1728.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53418 queries. users per second: 1728.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53418 queries. users per second: 1736.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53418 queries. users per second: 1736.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53418 queries. users per second: 1739.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53418 queries. users per second: 1739.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53418 queries. users per second: 1745.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53418 queries. users per second: 1745.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53418 queries. users per second: 1748.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53418 queries. users per second: 1748.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53418 queries. users per second: 1753.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53418 queries. users per second: 1753.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53418 queries. users per second: 1752.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53418 queries. users per second: 1752.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53418 queries. users per second: 1756.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53418 queries. users per second: 1756.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53418 queries. users per second: 1758.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53418 queries. users per second: 1758.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53418 queries. users per second: 1762.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53418 queries. users per second: 1762.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53418 queries. users per second: 1765.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53418 queries. users per second: 1765.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53418 queries. users per second: 1767.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53418 queries. users per second: 1767.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53418 queries. users per second: 1770.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53418 queries. users per second: 1770.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53418 queries. users per second: 1768.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53418 queries. users per second: 1768.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53418 queries. users per second: 1751.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53418 queries. users per second: 1751.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53418 queries. users per second: 1731.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53418 queries. users per second: 1731.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53418 queries. users per second: 1727.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53418 queries. users per second: 1727.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53418 queries. users per second: 1720.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53418 queries. users per second: 1720.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53418 queries. users per second: 1719.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53418 queries. users per second: 1719.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53418 queries. users per second: 1721.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53418 queries. users per second: 1721.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53418 queries. users per second: 1727.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53418 queries. users per second: 1727.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53418 queries. users per second: 1729.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53418 queries. users per second: 1729.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53418 queries. users per second: 1732.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53418 queries. users per second: 1732.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53418 queries. users per second: 1735.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53418 queries. users per second: 1735.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53418 queries. users per second: 1739.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53418 queries. users per second: 1739.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53418 queries. users per second: 1742.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53418 queries. users per second: 1742.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53418 queries. users per second: 1738.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53418 queries. users per second: 1738.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53418 queries. users per second: 1730.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53418 queries. users per second: 1730.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53418 queries. users per second: 1722</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53418 queries. users per second: 1722"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53418 queries. users per second: 1717.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53418 queries. users per second: 1717.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53418 queries. users per second: 1718.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53418 queries. users per second: 1718.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53418 queries. users per second: 1709.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53418 queries. users per second: 1709.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53418 queries. users per second: 1698.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53418 queries. users per second: 1698.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53418 queries. users per second: 1698.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53418 queries. users per second: 1698.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53418 queries. users per second: 1692.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53418 queries. users per second: 1692.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53418 queries. users per second: 1694.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53418 queries. users per second: 1694.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53418 queries. users per second: 1695.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53418 queries. users per second: 1695.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53418 queries. users per second: 1691.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53418 queries. users per second: 1691.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53418 queries. users per second: 1694.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53418 queries. users per second: 1694.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53418 queries. users per second: 1989.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53418 queries. users per second: 1989.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53418 queries. users per second: 1829.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53418 queries. users per second: 1829.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53418 queries. users per second: 1844.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53418 queries. users per second: 1844.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53418 queries. users per second: 1888.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53418 queries. users per second: 1888.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53418 queries. users per second: 1910.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53418 queries. users per second: 1910.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53418 queries. users per second: 1919.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53418 queries. users per second: 1919.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53418 queries. users per second: 1909.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53418 queries. users per second: 1909.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53418 queries. users per second: 1913.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53418 queries. users per second: 1913.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53418 queries. users per second: 1925.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53418 queries. users per second: 1925.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53418 queries. users per second: 1927.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53418 queries. users per second: 1927.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53418 queries. users per second: 1925.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53418 queries. users per second: 1925.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53418 queries. users per second: 1926.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53418 queries. users per second: 1926.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53418 queries. users per second: 1930.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53418 queries. users per second: 1930.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53418 queries. users per second: 1936.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53418 queries. users per second: 1936.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53418 queries. users per second: 1936.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53418 queries. users per second: 1936.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53418 queries. users per second: 1941.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53418 queries. users per second: 1941.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53418 queries. users per second: 1947.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53418 queries. users per second: 1947.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53418 queries. users per second: 1953.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53418 queries. users per second: 1953.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53418 queries. users per second: 1955.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53418 queries. users per second: 1955.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53418 queries. users per second: 1937.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53418 queries. users per second: 1937.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53418 queries. users per second: 1932.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53418 queries. users per second: 1932.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53418 queries. users per second: 1933.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53418 queries. users per second: 1933.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53418 queries. users per second: 1935.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53418 queries. users per second: 1935.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53418 queries. users per second: 1940.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53418 queries. users per second: 1940.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53418 queries. users per second: 1942.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53418 queries. users per second: 1942.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53418 queries. users per second: 1948.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53418 queries. users per second: 1948.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53418 queries. users per second: 1952.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53418 queries. users per second: 1952.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53418 queries. users per second: 1940.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53418 queries. users per second: 1940.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53418 queries. users per second: 1936.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53418 queries. users per second: 1936.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53418 queries. users per second: 1939.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53418 queries. users per second: 1939.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53418 queries. users per second: 1939.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53418 queries. users per second: 1939.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53418 queries. users per second: 1943.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53418 queries. users per second: 1943.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53418 queries. users per second: 1944.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53418 queries. users per second: 1944.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53418 queries. users per second: 1948.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53418 queries. users per second: 1948.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53418 queries. users per second: 1945</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53418 queries. users per second: 1945"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53418 queries. users per second: 1946.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53418 queries. users per second: 1946.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53418 queries. users per second: 1947.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53418 queries. users per second: 1947.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53418 queries. users per second: 1946.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53418 queries. users per second: 1946.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53418 queries. users per second: 1941.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53418 queries. users per second: 1941.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53418 queries. users per second: 1942.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53418 queries. users per second: 1942.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53418 queries. users per second: 1942.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53418 queries. users per second: 1942.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53418 queries. users per second: 1941.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53418 queries. users per second: 1941.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53418 queries. users per second: 1939.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53418 queries. users per second: 1939.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53418 queries. users per second: 1938.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53418 queries. users per second: 1938.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53418 queries. users per second: 1939.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53418 queries. users per second: 1939.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53418 queries. users per second: 1941.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53418 queries. users per second: 1941.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53418 queries. users per second: 1943.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53418 queries. users per second: 1943.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53418 queries. users per second: 1945.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53418 queries. users per second: 1945.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53418 queries. users per second: 1946.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53418 queries. users per second: 1946.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53418 queries. users per second: 1948.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53418 queries. users per second: 1948.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53418 queries. users per second: 1950.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53418 queries. users per second: 1950.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53418 queries. users per second: 1953.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53418 queries. users per second: 1953.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53418 queries. users per second: 1955.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53418 queries. users per second: 1955.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#Plotting Evaluation Charts\n",
    "view_matrix_factorization_overview = model.views.overview(\n",
    "        validation_set=validation_data)\n",
    "view_matrix_factorization_overview.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>Getting similar users completed in 53.3002</pre>"
      ],
      "text/plain": [
       "Getting similar users completed in 53.3002"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">user_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">similar</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">score</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">rank</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">50837</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.70186072588</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">39421</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.679731607437</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3207</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.667736828327</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">51291</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.658596754074</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">14188</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.653304994106</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">47056</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.653122186661</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">38641</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.648723900318</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">51375</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.646965444088</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8694</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.644145429134</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">29646</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">27054</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">0.641750633717</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">10</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[534240 rows x 4 columns]<br/>Note: Only the head of the SFrame is printed.<br/>You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tuser_id\tint\n",
       "\tsimilar\tint\n",
       "\tscore\tfloat\n",
       "\trank\tint\n",
       "\n",
       "Rows: 534240\n",
       "\n",
       "Data:\n",
       "+---------+---------+----------------+------+\n",
       "| user_id | similar |     score      | rank |\n",
       "+---------+---------+----------------+------+\n",
       "|  29646  |  50837  | 0.70186072588  |  1   |\n",
       "|  29646  |  39421  | 0.679731607437 |  2   |\n",
       "|  29646  |   3207  | 0.667736828327 |  3   |\n",
       "|  29646  |  51291  | 0.658596754074 |  4   |\n",
       "|  29646  |  14188  | 0.653304994106 |  5   |\n",
       "|  29646  |  47056  | 0.653122186661 |  6   |\n",
       "|  29646  |  38641  | 0.648723900318 |  7   |\n",
       "|  29646  |  51375  | 0.646965444088 |  8   |\n",
       "|  29646  |   8694  | 0.644145429134 |  9   |\n",
       "|  29646  |  27054  | 0.641750633717 |  10  |\n",
       "+---------+---------+----------------+------+\n",
       "[534240 rows x 4 columns]\n",
       "Note: Only the head of the SFrame is printed.\n",
       "You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns."
      ]
     },
     "execution_count": 40,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# finding similar users\n",
    "similar_users = model.get_similar_users(k=10)\n",
    "similar_users"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "#to save the model\n",
    "item_sim_model.save('/home/kanika/Documents/3rd_Sem/Machine Learning/project/Model/Collaborative')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "#to save the model\n",
    "model.save('/home/kanika/Documents/3rd_Sem/Machine Learning/project/Model/matrix_factorization')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"max-height:1000px;max-width:1500px;overflow:auto;\"><table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">author</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">description0</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">Language</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">NumberofRatings</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">GoodReadAverageRating</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id_original</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">J.K. Rowling</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter's life is<br>miserable. His parents ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4879247</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.44</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harper Lee</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The unforgettable novel<br>of a childhood in a ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3368077</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2657</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">F. Scott Fitzgerald</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">, F. Scott Fitzgerald’s<br>third book, stands as ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2807803</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.89</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4671</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Stephenie Meyer</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">In the first book of the<br>Twilight Saga, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3951638</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.57</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">41865</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">John Green</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">\"I fell in love the way<br>you fall asleep: slowly, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2518520</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11870085</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Veronica Roth</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Paperback features over<br>fifty pages of bonus ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2246660</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.24</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13335037</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">J.D. Salinger</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The hero-narrator of </td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2140682</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3.79</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5107</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Khaled Hosseini</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Amir is the son of a<br>wealthy Kabul merchan ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1895138</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.26</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">77203</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Jane Austen</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">“It is a truth<br>universally acknowled ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2217374</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.24</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1885</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">George Orwell</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The year 1984 has come<br>and gone, but George ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">English</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2084082</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4.14</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5470</td>\n",
       "    </tr>\n",
       "</table>\n",
       "<table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">description1</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">title</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">book_id</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_title</th>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_book_id</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter's life is<br>miserable. His parents ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter and the<br>Philosopher's Stone ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Harry Potter and the<br>Sorcerer's Stone (Harry ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Compassionate, dramatic,<br>and deepl ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">To Kill a Mockingbird</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">To Kill a Mockingbird (To<br>Kill a Mockingbird #1) ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">2657</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">, F. Scott Fitzgerald’s<br>third book, stands as ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Great Gatsby</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Great Gatsby</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4671</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">In the first book of the<br>Twilight Saga, ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Twilight</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Twilight (Twilight, #1)</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">41865</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Despite the tumor-<br>shrinking medical mir ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Fault in Our Stars</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">6</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Fault in Our Stars</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11870085</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> playlist, faction<br>manifestos, and more! ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Divergent</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">12</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Divergent (Divergent, #1)</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13335037</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> is an ancient child of<br>sixteen, a native New ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Catcher in the Rye</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">8</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Catcher in the Rye</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5107</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Amir is the son of a<br>wealthy Kabul merchan ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Kite Runner </td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">11</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">The Kite Runner</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">77203</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">“It is a truth<br>universally acknowled ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Pride and Prejudice</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">10</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Pride and Prejudice</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1885</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\"> is still the great<br>modern classic of ...</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">Nineteen Eighty-Four</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">1984</td>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">5470</td>\n",
       "    </tr>\n",
       "</table>\n",
       "<table frame=\"box\" rules=\"cols\">\n",
       "    <tr>\n",
       "        <th style=\"padding-left: 1em; padding-right: 1em; text-align: center\">goodreads_work_id</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">4640799</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3275794</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">245494</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3212258</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">16827462</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">13155899</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3036731</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3295919</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">3060926</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "        <td style=\"padding-left: 1em; padding-right: 1em; text-align: center; vertical-align: top\">153313</td>\n",
       "    </tr>\n",
       "</table>\n",
       "[9593 rows x 12 columns]<br/>Note: Only the head of the SFrame is printed.<br/>You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.\n",
       "</div>"
      ],
      "text/plain": [
       "Columns:\n",
       "\tauthor\tstr\n",
       "\tdescription0\tstr\n",
       "\tLanguage\tstr\n",
       "\tNumberofRatings\tint\n",
       "\tGoodReadAverageRating\tfloat\n",
       "\tbook_id_original\tint\n",
       "\tdescription1\tstr\n",
       "\ttitle\tstr\n",
       "\tbook_id\tint\n",
       "\tgoodreads_title\tstr\n",
       "\tgoodreads_book_id\tint\n",
       "\tgoodreads_work_id\tint\n",
       "\n",
       "Rows: 9593\n",
       "\n",
       "Data:\n",
       "+---------------------+-------------------------------+----------+-----------------+\n",
       "|        author       |          description0         | Language | NumberofRatings |\n",
       "+---------------------+-------------------------------+----------+-----------------+\n",
       "|     J.K. Rowling    | Harry Potter's life is mis... | English  |     4879247     |\n",
       "|      Harper Lee     | The unforgettable novel of... | English  |     3368077     |\n",
       "| F. Scott Fitzgerald | , F. Scott Fitzgerald’s th... | English  |     2807803     |\n",
       "|   Stephenie Meyer   | In the first book of the T... | English  |     3951638     |\n",
       "|      John Green     | \"I fell in love the way yo... | English  |     2518520     |\n",
       "|    Veronica Roth    | Paperback features over fi... | English  |     2246660     |\n",
       "|    J.D. Salinger    |     The hero-narrator of      | English  |     2140682     |\n",
       "|   Khaled Hosseini   | Amir is the son of a wealt... | English  |     1895138     |\n",
       "|     Jane Austen     | “It is a truth universally... | English  |     2217374     |\n",
       "|    George Orwell    | The year 1984 has come and... | English  |     2084082     |\n",
       "+---------------------+-------------------------------+----------+-----------------+\n",
       "+-----------------------+------------------+-------------------------------+\n",
       "| GoodReadAverageRating | book_id_original |          description1         |\n",
       "+-----------------------+------------------+-------------------------------+\n",
       "|          4.44         |        3         | Harry Potter's life is mis... |\n",
       "|          4.26         |       2657       | Compassionate, dramatic, a... |\n",
       "|          3.89         |       4671       | , F. Scott Fitzgerald’s th... |\n",
       "|          3.57         |      41865       | In the first book of the T... |\n",
       "|          4.26         |     11870085     | Despite the tumor-shrinkin... |\n",
       "|          4.24         |     13335037     |  playlist, faction manifes... |\n",
       "|          3.79         |       5107       |  is an ancient child of si... |\n",
       "|          4.26         |      77203       | Amir is the son of a wealt... |\n",
       "|          4.24         |       1885       | “It is a truth universally... |\n",
       "|          4.14         |       5470       |  is still the great modern... |\n",
       "+-----------------------+------------------+-------------------------------+\n",
       "+-------------------------------+---------+-------------------------------+\n",
       "|             title             | book_id |        goodreads_title        |\n",
       "+-------------------------------+---------+-------------------------------+\n",
       "| Harry Potter and the Philo... |    2    | Harry Potter and the Sorce... |\n",
       "|     To Kill a Mockingbird     |    4    | To Kill a Mockingbird (To ... |\n",
       "|        The Great Gatsby       |    5    |        The Great Gatsby       |\n",
       "|            Twilight           |    3    |    Twilight (Twilight, #1)    |\n",
       "|     The Fault in Our Stars    |    6    |     The Fault in Our Stars    |\n",
       "|           Divergent           |    12   |   Divergent (Divergent, #1)   |\n",
       "|     The Catcher in the Rye    |    8    |     The Catcher in the Rye    |\n",
       "|        The Kite Runner        |    11   |        The Kite Runner        |\n",
       "|      Pride and Prejudice      |    10   |      Pride and Prejudice      |\n",
       "|      Nineteen Eighty-Four     |    13   |              1984             |\n",
       "+-------------------------------+---------+-------------------------------+\n",
       "+-------------------+-------------------+\n",
       "| goodreads_book_id | goodreads_work_id |\n",
       "+-------------------+-------------------+\n",
       "|         3         |      4640799      |\n",
       "|        2657       |      3275794      |\n",
       "|        4671       |       245494      |\n",
       "|       41865       |      3212258      |\n",
       "|      11870085     |      16827462     |\n",
       "|      13335037     |      13155899     |\n",
       "|        5107       |      3036731      |\n",
       "|       77203       |      3295919      |\n",
       "|        1885       |      3060926      |\n",
       "|        5470       |       153313      |\n",
       "+-------------------+-------------------+\n",
       "[9593 rows x 12 columns]\n",
       "Note: Only the head of the SFrame is printed.\n",
       "You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns."
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "book_data.remove_column(\"Unnamed: 0\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "WARNING: The ItemContentRecommender model is still in beta.\n",
      "WARNING: This feature transformer is still in beta, and some interpretation rules may change in the future.\n",
      "('Applying transform:\\n', Class             : AutoVectorizer\n",
      "\n",
      "Model Fields\n",
      "------------\n",
      "Features          : ['Unnamed: 0', 'author', 'description0', 'Language', 'NumberofRatings', 'GoodReadAverageRating', 'book_id_original', 'description1', 'title', 'goodreads_title', 'goodreads_book_id', 'goodreads_work_id']\n",
      "Excluded Features : ['book_id']\n",
      "\n",
      "Column                 Type   Interpretation  Transforms                         Output Type\n",
      "---------------------  -----  --------------  ---------------------------------  -----------\n",
      "Unnamed: 0             int    numerical       None                               int        \n",
      "author                 str    categorical     None                               str        \n",
      "description0           str    long_text       2-Word NGram Counts -> TFIDF       dict       \n",
      "Language               str    categorical     None                               str        \n",
      "NumberofRatings        int    numerical       None                               int        \n",
      "GoodReadAverageRating  float  numerical       None                               float      \n",
      "book_id_original       int    numerical       None                               int        \n",
      "description1           str    long_text       2-Word NGram Counts -> TFIDF       dict       \n",
      "title                  str    short_text      3-Character NGram Counts -> TFIDF  dict       \n",
      "goodreads_title        str    short_text      3-Character NGram Counts -> TFIDF  dict       \n",
      "goodreads_book_id      int    numerical       None                               int        \n",
      "goodreads_work_id      int    numerical       None                               int        \n",
      "\n",
      ")\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>Recsys training: model = item_content_recommender</pre>"
      ],
      "text/plain": [
       "Recsys training: model = item_content_recommender"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Defaulting to brute force instead of ball tree because there are multiple distance components.\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>Starting brute force nearest neighbors model training.</pre>"
      ],
      "text/plain": [
       "Starting brute force nearest neighbors model training."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Starting pairwise querying.</pre>"
      ],
      "text/plain": [
       "Starting pairwise querying."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------+---------+-------------+--------------+</pre>"
      ],
      "text/plain": [
       "+--------------+---------+-------------+--------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Query points | # Pairs | % Complete. | Elapsed Time |</pre>"
      ],
      "text/plain": [
       "| Query points | # Pairs | % Complete. | Elapsed Time |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------+---------+-------------+--------------+</pre>"
      ],
      "text/plain": [
       "+--------------+---------+-------------+--------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1            | 9593    | 0.0104243   | 193.734ms    |</pre>"
      ],
      "text/plain": [
       "| 1            | 9593    | 0.0104243   | 193.734ms    |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 175          | 1678775 | 1.82425     | 1.19s        |</pre>"
      ],
      "text/plain": [
       "| 175          | 1678775 | 1.82425     | 1.19s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 353          | 3386329 | 3.67977     | 2.20s        |</pre>"
      ],
      "text/plain": [
       "| 353          | 3386329 | 3.67977     | 2.20s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 541          | 5189813 | 5.63953     | 3.20s        |</pre>"
      ],
      "text/plain": [
       "| 541          | 5189813 | 5.63953     | 3.20s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 732          | 7022076 | 7.63056     | 4.19s        |</pre>"
      ],
      "text/plain": [
       "| 732          | 7022076 | 7.63056     | 4.19s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 900          | 8633700 | 9.38184     | 5.20s        |</pre>"
      ],
      "text/plain": [
       "| 900          | 8633700 | 9.38184     | 5.20s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1073         | 1e+07   | 11.1852     | 6.19s        |</pre>"
      ],
      "text/plain": [
       "| 1073         | 1e+07   | 11.1852     | 6.19s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1264         | 1.2e+07 | 13.1763     | 7.20s        |</pre>"
      ],
      "text/plain": [
       "| 1264         | 1.2e+07 | 13.1763     | 7.20s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1459         |         | 15.209      | 8.19s        |</pre>"
      ],
      "text/plain": [
       "| 1459         |         | 15.209      | 8.19s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1656         | 1.6e+07 | 17.2626     | 9.19s        |</pre>"
      ],
      "text/plain": [
       "| 1656         | 1.6e+07 | 17.2626     | 9.19s        |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 1846         | 1.8e+07 | 19.2432     | 10.20s       |</pre>"
      ],
      "text/plain": [
       "| 1846         | 1.8e+07 | 19.2432     | 10.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2038         | 2e+07   | 21.2447     | 11.19s       |</pre>"
      ],
      "text/plain": [
       "| 2038         | 2e+07   | 21.2447     | 11.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2227         | 2.1e+07 | 23.2148     | 12.20s       |</pre>"
      ],
      "text/plain": [
       "| 2227         | 2.1e+07 | 23.2148     | 12.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2418         | 2.3e+07 | 25.2059     | 13.19s       |</pre>"
      ],
      "text/plain": [
       "| 2418         | 2.3e+07 | 25.2059     | 13.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2606         |         | 27.1656     | 14.19s       |</pre>"
      ],
      "text/plain": [
       "| 2606         |         | 27.1656     | 14.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 2809         | 2.7e+07 | 29.2818     | 15.19s       |</pre>"
      ],
      "text/plain": [
       "| 2809         | 2.7e+07 | 29.2818     | 15.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3007         | 2.9e+07 | 31.3458     | 16.20s       |</pre>"
      ],
      "text/plain": [
       "| 3007         | 2.9e+07 | 31.3458     | 16.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3202         | 3.1e+07 | 33.3785     | 17.19s       |</pre>"
      ],
      "text/plain": [
       "| 3202         | 3.1e+07 | 33.3785     | 17.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3398         | 3.3e+07 | 35.4217     | 18.19s       |</pre>"
      ],
      "text/plain": [
       "| 3398         | 3.3e+07 | 35.4217     | 18.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3590         | 3.4e+07 | 37.4231     | 19.19s       |</pre>"
      ],
      "text/plain": [
       "| 3590         | 3.4e+07 | 37.4231     | 19.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3780         | 3.6e+07 | 39.4037     | 20.19s       |</pre>"
      ],
      "text/plain": [
       "| 3780         | 3.6e+07 | 39.4037     | 20.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 3961         |         | 41.2905     | 21.19s       |</pre>"
      ],
      "text/plain": [
       "| 3961         |         | 41.2905     | 21.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4153         | 4e+07   | 43.292      | 22.20s       |</pre>"
      ],
      "text/plain": [
       "| 4153         | 4e+07   | 43.292      | 22.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4345         | 4.2e+07 | 45.2934     | 23.19s       |</pre>"
      ],
      "text/plain": [
       "| 4345         | 4.2e+07 | 45.2934     | 23.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4533         | 4.3e+07 | 47.2532     | 24.19s       |</pre>"
      ],
      "text/plain": [
       "| 4533         | 4.3e+07 | 47.2532     | 24.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4730         | 4.5e+07 | 49.3068     | 25.20s       |</pre>"
      ],
      "text/plain": [
       "| 4730         | 4.5e+07 | 49.3068     | 25.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 4916         | 4.7e+07 | 51.2457     | 26.20s       |</pre>"
      ],
      "text/plain": [
       "| 4916         | 4.7e+07 | 51.2457     | 26.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5114         | 4.9e+07 | 53.3097     | 27.21s       |</pre>"
      ],
      "text/plain": [
       "| 5114         | 4.9e+07 | 53.3097     | 27.21s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5307         | 5.1e+07 | 55.3216     | 28.20s       |</pre>"
      ],
      "text/plain": [
       "| 5307         | 5.1e+07 | 55.3216     | 28.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5502         | 5.3e+07 | 57.3543     | 29.20s       |</pre>"
      ],
      "text/plain": [
       "| 5502         | 5.3e+07 | 57.3543     | 29.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5698         | 5.5e+07 | 59.3975     | 30.20s       |</pre>"
      ],
      "text/plain": [
       "| 5698         | 5.5e+07 | 59.3975     | 30.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 5893         | 5.7e+07 | 61.4302     | 31.20s       |</pre>"
      ],
      "text/plain": [
       "| 5893         | 5.7e+07 | 61.4302     | 31.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6089         | 5.8e+07 | 63.4734     | 32.20s       |</pre>"
      ],
      "text/plain": [
       "| 6089         | 5.8e+07 | 63.4734     | 32.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6270         | 6e+07   | 65.3602     | 33.20s       |</pre>"
      ],
      "text/plain": [
       "| 6270         | 6e+07   | 65.3602     | 33.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6463         |         | 67.372      | 34.20s       |</pre>"
      ],
      "text/plain": [
       "| 6463         |         | 67.372      | 34.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6659         | 6.4e+07 | 69.4152     | 35.20s       |</pre>"
      ],
      "text/plain": [
       "| 6659         | 6.4e+07 | 69.4152     | 35.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 6860         | 6.6e+07 | 71.5105     | 36.19s       |</pre>"
      ],
      "text/plain": [
       "| 6860         | 6.6e+07 | 71.5105     | 36.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7053         | 6.8e+07 | 73.5224     | 37.19s       |</pre>"
      ],
      "text/plain": [
       "| 7053         | 6.8e+07 | 73.5224     | 37.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7243         | 6.9e+07 | 75.503      | 38.20s       |</pre>"
      ],
      "text/plain": [
       "| 7243         | 6.9e+07 | 75.503      | 38.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7436         | 7.1e+07 | 77.5149     | 39.19s       |</pre>"
      ],
      "text/plain": [
       "| 7436         | 7.1e+07 | 77.5149     | 39.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7630         | 7.3e+07 | 79.5372     | 40.20s       |</pre>"
      ],
      "text/plain": [
       "| 7630         | 7.3e+07 | 79.5372     | 40.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 7828         | 7.5e+07 | 81.6012     | 41.20s       |</pre>"
      ],
      "text/plain": [
       "| 7828         | 7.5e+07 | 81.6012     | 41.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8012         | 7.7e+07 | 83.5192     | 42.20s       |</pre>"
      ],
      "text/plain": [
       "| 8012         | 7.7e+07 | 83.5192     | 42.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8202         | 7.9e+07 | 85.4998     | 43.20s       |</pre>"
      ],
      "text/plain": [
       "| 8202         | 7.9e+07 | 85.4998     | 43.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8329         | 8e+07   | 86.8237     | 44.19s       |</pre>"
      ],
      "text/plain": [
       "| 8329         | 8e+07   | 86.8237     | 44.19s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8463         | 8.1e+07 | 88.2206     | 45.21s       |</pre>"
      ],
      "text/plain": [
       "| 8463         | 8.1e+07 | 88.2206     | 45.21s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8597         | 8.2e+07 | 89.6174     | 46.20s       |</pre>"
      ],
      "text/plain": [
       "| 8597         | 8.2e+07 | 89.6174     | 46.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8747         | 8.4e+07 | 91.1811     | 47.20s       |</pre>"
      ],
      "text/plain": [
       "| 8747         | 8.4e+07 | 91.1811     | 47.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 8878         | 8.5e+07 | 92.5466     | 48.20s       |</pre>"
      ],
      "text/plain": [
       "| 8878         | 8.5e+07 | 92.5466     | 48.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 9083         | 8.7e+07 | 94.6836     | 49.20s       |</pre>"
      ],
      "text/plain": [
       "| 9083         | 8.7e+07 | 94.6836     | 49.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 9283         | 8.9e+07 | 96.7685     | 50.20s       |</pre>"
      ],
      "text/plain": [
       "| 9283         | 8.9e+07 | 96.7685     | 50.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| 9490         | 9.1e+07 | 98.9263     | 51.20s       |</pre>"
      ],
      "text/plain": [
       "| 9490         | 9.1e+07 | 98.9263     | 51.20s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>| Done         |         | 100         | 51.97s       |</pre>"
      ],
      "text/plain": [
       "| Done         |         | 100         | 51.97s       |"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>+--------------+---------+-------------+--------------+</pre>"
      ],
      "text/plain": [
       "+--------------+---------+-------------+--------------+"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Preparing data set.</pre>"
      ],
      "text/plain": [
       "Preparing data set."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data has 3346828 observations with 53424 users and 10000 items.</pre>"
      ],
      "text/plain": [
       "    Data has 3346828 observations with 53424 users and 10000 items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data prepared in: 4.79721s</pre>"
      ],
      "text/plain": [
       "    Data prepared in: 4.79721s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Loading user-provided nearest items.</pre>"
      ],
      "text/plain": [
       "Loading user-provided nearest items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Generating candidate set for working with new users.</pre>"
      ],
      "text/plain": [
       "Generating candidate set for working with new users."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Finished training in 0.828852s</pre>"
      ],
      "text/plain": [
       "Finished training in 0.828852s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#Creating Content based Model\n",
    "content_based_model=graphlab.recommender.item_content_recommender.create(book_data,item_id='book_id',observation_data=training_data,user_id='user_id',target='rating',similarity_metrics='pearson')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Class                            : ItemContentRecommender\n",
       "\n",
       "Schema\n",
       "------\n",
       "User ID                          : user_id\n",
       "Item ID                          : book_id\n",
       "Target                           : rating\n",
       "Additional observation features  : 0\n",
       "User side features               : []\n",
       "Item side features               : ['Unnamed: 0', 'author', 'description0', 'Language', 'NumberofRatings', 'GoodReadAverageRating', 'book_id_original', 'description1', 'title', 'book_id', 'goodreads_title', 'goodreads_book_id', 'goodreads_work_id']\n",
       "\n",
       "Statistics\n",
       "----------\n",
       "Number of observations           : 3346828\n",
       "Number of users                  : 53424\n",
       "Number of items                  : 10000\n",
       "\n",
       "Training summary\n",
       "----------------\n",
       "Training time                    : 0.8063\n",
       "\n",
       "Model Parameters\n",
       "----------------\n",
       "Model class                      : ItemContentRecommender\n",
       "threshold                        : 0.0001\n",
       "similarity_type                  : cosine\n",
       "training_method                  : auto\n",
       "\n",
       "Other Settings\n",
       "--------------\n",
       "degree_approximation_threshold   : 4096\n",
       "sparse_density_estimation_sample_size : 4096\n",
       "max_data_passes                  : 4096\n",
       "target_memory_usage              : 8589934592\n",
       "seed_item_set_size               : 50\n",
       "nearest_neighbors_interaction_proportion_threshold : 0.05\n",
       "max_item_neighborhood_size       : 64"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "content_based_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'degree_approximation_threshold': 4096,\n",
       " 'item_id': 'book_id',\n",
       " 'max_data_passes': 4096,\n",
       " 'max_item_neighborhood_size': 64,\n",
       " 'nearest_neighbors_interaction_proportion_threshold': 0.05,\n",
       " 'seed_item_set_size': 50,\n",
       " 'similarity_type': 'cosine',\n",
       " 'sparse_density_estimation_sample_size': 4096,\n",
       " 'target': 'rating',\n",
       " 'target_memory_usage': 8589934592,\n",
       " 'threshold': 0.0001,\n",
       " 'training_method': 'auto',\n",
       " 'user_id': 'user_id'}"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# getting the model parameters\n",
    "content_based_model.get_current_options()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1969.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1969.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1910.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1910.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1873.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1873.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1871.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1871.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1844.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1844.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1823.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1823.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1816.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1816.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1772.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1772.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1761.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1761.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1759.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1759.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1767.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1767.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1737.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1737.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1686.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1686.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1659.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1659.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1664.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1664.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1635.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1635.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1642.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1642.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1637.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1637.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1608.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1608.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1588.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1588.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1591.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1591.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1599.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1599.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1580.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1580.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1555.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1555.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1543.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1543.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1551.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1551.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1540.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1540.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1530.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1530.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1540.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1540.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1547.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1547.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1555.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1555.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1559.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1559.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1562.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1562.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1564.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1564.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1567.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1567.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1574.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1574.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1580</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1580"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1585.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1585.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1589.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1589.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1593.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1593.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1599.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1599.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1604.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1604.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1609.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1609.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1614.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1614.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1612.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1612.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1607.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1607.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1604.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1604.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1599.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1599.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1602.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1602.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1586.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1586.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1574.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1574.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1575.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1575.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1578.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1578.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    |  0.099309234542 | 0.00680403160561 |\n",
      "|   2    | 0.0929444579644 |  0.012556729439  |\n",
      "|   3    | 0.0888073531889 | 0.0179450704873  |\n",
      "|   4    |  0.084974447294 | 0.0228185851914  |\n",
      "|   5    | 0.0818585147607 |  0.027334721244  |\n",
      "|   6    | 0.0789232295625 | 0.0315256495387  |\n",
      "|   7    | 0.0763719703797 | 0.0354790225655  |\n",
      "|   8    |  0.074208146914 | 0.0393443119324  |\n",
      "|   9    | 0.0719011754037 | 0.0428011341634  |\n",
      "|   10   | 0.0699488945881 | 0.0461707601855  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "('\\nOverall RMSE: ', 3.952458390675317)\n",
      "\n",
      "Per User RMSE (best)\n",
      "+---------+-------+----------------+\n",
      "| user_id | count |      rmse      |\n",
      "+---------+-------+----------------+\n",
      "|  29628  |   6   | 0.971732881344 |\n",
      "+---------+-------+----------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per User RMSE (worst)\n",
      "+---------+-------+------+\n",
      "| user_id | count | rmse |\n",
      "+---------+-------+------+\n",
      "|  36043  |   2   | 5.0  |\n",
      "+---------+-------+------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (best)\n",
      "+---------+-------+---------------+\n",
      "| book_id | count |      rmse     |\n",
      "+---------+-------+---------------+\n",
      "|   1793  |   41  | 2.12847873367 |\n",
      "+---------+-------+---------------+\n",
      "[1 rows x 3 columns]\n",
      "\n",
      "\n",
      "Per Item RMSE (worst)\n",
      "+---------+-------+------+\n",
      "| book_id | count | rmse |\n",
      "+---------+-------+------+\n",
      "|   7803  |   1   | 5.0  |\n",
      "+---------+-------+------+\n",
      "[1 rows x 3 columns]\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "{'precision_recall_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \tcount\tint\n",
       " \n",
       " Rows: 961542\n",
       " \n",
       " Data:\n",
       " +---------+--------+-----------+--------+-------+\n",
       " | user_id | cutoff | precision | recall | count |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " |    1    |   1    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   2    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   3    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   4    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   5    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   6    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   7    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   8    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   9    |    0.0    |  0.0   |   20  |\n",
       " |    1    |   10   |    0.0    |  0.0   |   20  |\n",
       " +---------+--------+-----------+--------+-------+\n",
       " [961542 rows x 5 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'precision_recall_overall': Columns:\n",
       " \tcutoff\tint\n",
       " \tprecision\tfloat\n",
       " \trecall\tfloat\n",
       " \n",
       " Rows: 18\n",
       " \n",
       " Data:\n",
       " +--------+-----------------+------------------+\n",
       " | cutoff |    precision    |      recall      |\n",
       " +--------+-----------------+------------------+\n",
       " |   1    |  0.099309234542 | 0.00680403160561 |\n",
       " |   2    | 0.0929444579644 |  0.012556729439  |\n",
       " |   3    | 0.0888073531889 | 0.0179450704873  |\n",
       " |   4    |  0.084974447294 | 0.0228185851914  |\n",
       " |   5    | 0.0818585147607 |  0.027334721244  |\n",
       " |   6    | 0.0789232295625 | 0.0315256495387  |\n",
       " |   7    | 0.0763719703797 | 0.0354790225655  |\n",
       " |   8    |  0.074208146914 | 0.0393443119324  |\n",
       " |   9    | 0.0719011754037 | 0.0428011341634  |\n",
       " |   10   | 0.0699488945881 | 0.0461707601855  |\n",
       " +--------+-----------------+------------------+\n",
       " [18 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_item': Columns:\n",
       " \tbook_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 10000\n",
       " \n",
       " Data:\n",
       " +---------+-------+---------------+\n",
       " | book_id | count |      rmse     |\n",
       " +---------+-------+---------------+\n",
       " |   7899  |   32  | 4.25331750609 |\n",
       " |   5288  |   37  | 3.76457709119 |\n",
       " |   3143  |   70  | 4.21869581281 |\n",
       " |   6769  |   18  |  3.7302165832 |\n",
       " |   5684  |   37  | 3.92610032723 |\n",
       " |   2779  |   48  | 3.85404369601 |\n",
       " |   8455  |   27  | 4.50514109616 |\n",
       " |   118   |  875  | 3.85999188352 |\n",
       " |   3988  |   58  | 4.39093006745 |\n",
       " |   5783  |   31  | 3.76158622241 |\n",
       " +---------+-------+---------------+\n",
       " [10000 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_by_user': Columns:\n",
       " \tuser_id\tint\n",
       " \tcount\tint\n",
       " \trmse\tfloat\n",
       " \n",
       " Rows: 53419\n",
       " \n",
       " Data:\n",
       " +---------+-------+---------------+\n",
       " | user_id | count |      rmse     |\n",
       " +---------+-------+---------------+\n",
       " |  21855  |   12  | 4.46163956107 |\n",
       " |   7899  |   22  | 4.32477703819 |\n",
       " |  25263  |   19  | 4.27416740241 |\n",
       " |  30621  |   13  | 4.09719772508 |\n",
       " |  43116  |   10  | 3.50117191765 |\n",
       " |  27112  |   18  | 3.96284971318 |\n",
       " |  26319  |   13  | 4.64294730202 |\n",
       " |  26439  |   22  | 4.60101238092 |\n",
       " |   5288  |   17  | 3.41980825299 |\n",
       " |  19584  |   21  |  4.1656340225 |\n",
       " +---------+-------+---------------+\n",
       " [53419 rows x 3 columns]\n",
       " Note: Only the head of the SFrame is printed.\n",
       " You can use print_rows(num_rows=m, num_columns=n) to print more rows and columns.,\n",
       " 'rmse_overall': 3.952458390675317}"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "content_based_model.evaluate(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "15.74310308889359"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Calcuating the RMSE\n",
    "pred_content=content_based_model.predict(validation_data)\n",
    "rmse_content= sum((pred_content-validation_data[\"rating\"])**2)/len(validation_data)\n",
    "rmse_content"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1769.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1769.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1859.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1859.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1879.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1879.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1900.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1900.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1893.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1893.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1834.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1834.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1755.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1755.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1723.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1723.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1707.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1707.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1704.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1704.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1699.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1699.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1691.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1691.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1687.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1687.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1682.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1682.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1682.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1682.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1693.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1693.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1683.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1683.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1681.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1681.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1670.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1670.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1661.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1661.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1617.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1617.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1593.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1593.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1570.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1570.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1560.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1560.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1546.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1546.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1529.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1529.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1516.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1516.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1508.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1508.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1515.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1515.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1520.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1520.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1497.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1497.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1474.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1474.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1456.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1456.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1436.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1436.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1430.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1430.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1425.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1425.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1429.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1429.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1438.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1438.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1446.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1446.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1453.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1453.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1461.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1461.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1468.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1468.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1476.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1476.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1472.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1472.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1469.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1469.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1463.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1463.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1456.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1456.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1455.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1455.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1461.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1461.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1464.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1464.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1464.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1464.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1457.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1457.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1451.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1451.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1183.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1183.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1189.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1189.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1186.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1186.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1156.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1156.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1214.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1214.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1286.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1286.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1346.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1346.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1315.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1315.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1294.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1294.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1286.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1286.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1271.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1271.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1265.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1265.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1265.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1265.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1270.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1270.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1236.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1236.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1205.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1205.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1211.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1211.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1195.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1195.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1184.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1184.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1197.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1197.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1207.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1207.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1214.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1214.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1221.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1221.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1224.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1224.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1233.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1233.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1239.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1239.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1242.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1242.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1246.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1246.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1250.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1250.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1264.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1264.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1279.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1279.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1289.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1289.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1300.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1300.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1312.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1312.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1322.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1322.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1318.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1318.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1314.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1314.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1319.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1319.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1329.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1329.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1332.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1332.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1333.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1333.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1336.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1336.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1344.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1344.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1353.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1353.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1362.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1362.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1372</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1372"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1380.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1380.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1389.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1389.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1398.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1398.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1397.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1397.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1396.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1396.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1394.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1394.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1389.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1389.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1629.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1629.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1466</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1466"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1499.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1499.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1580.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1580.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1618.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1618.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1663.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1663.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1690.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1690.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1708.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1708.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1728.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1728.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1733.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1733.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1745.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1745.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1757.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1757.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1746.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1746.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1732.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1732.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1744.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1744.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1753.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1753.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1753.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1753.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1748.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1748.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1746.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1746.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1737.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1737.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1738.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1738.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1708.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1708.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1670.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1670.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1636.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1636.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1615.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1615.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1593.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1593.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1562.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1562.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1543.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1543.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1530.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1530.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1528.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1528.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1509.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1509.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1492.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1492.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1480.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1480.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1465.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1465.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1457.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1457.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1445.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1445.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1434.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1434.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1428.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1428.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1420.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1420.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1424.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1424.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1428.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1428.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1433.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1433.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1439.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1439.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1435.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1435.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1440.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1440.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1444.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1444.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1440.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1440.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1446.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1446.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1451.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1451.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1441.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1441.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1435.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1435.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1438.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1438.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1437.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1437.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1234.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1234.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1371.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1371.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1401.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1401.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1451.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1451.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1479.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1479.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1511.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1511.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1529.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1529.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1560.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1560.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1525.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1525.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1496.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1496.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1508.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1508.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1541.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1541.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1567.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1567.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1591.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1591.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1609.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1609.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1625.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1625.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1642.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1642.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1647.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1647.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1637.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1637.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1617.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1617.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1593.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1593.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1585.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1585.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1583.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1583.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1556.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1556.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1545.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1545.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1530.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1530.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1516.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1516.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1512.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1512.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1506.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1506.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1503.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1503.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1506.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1506.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1506.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1506.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1499.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1499.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1493.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1493.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1490.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1490.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1486.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1486.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1484.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1484.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1489.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1489.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1482.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1482.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1489.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1489.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1496.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1496.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1492.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1492.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1495.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1495.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1497.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1497.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1498.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1498.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1505.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1505.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1513.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1513.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1519.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1519.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1523.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1523.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1529.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1529.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1536.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1536.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1541.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1541.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1545.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1545.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "view_content_overview = content_based_model.views.overview(\n",
    "        validation_set=validation_datadata)\n",
    "view_content_overview.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "#To save the model\n",
    "content_based_model.save('/home/kanika/Documents/3rd_Sem/Machine Learning/project/Model/Content based')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>Recsys training: model = popularity</pre>"
      ],
      "text/plain": [
       "Recsys training: model = popularity"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>Preparing data set.</pre>"
      ],
      "text/plain": [
       "Preparing data set."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data has 3346828 observations with 53424 users and 10000 items.</pre>"
      ],
      "text/plain": [
       "    Data has 3346828 observations with 53424 users and 10000 items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>    Data prepared in: 6.64794s</pre>"
      ],
      "text/plain": [
       "    Data prepared in: 6.64794s"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>3346828 observations to process; with 10000 unique items.</pre>"
      ],
      "text/plain": [
       "3346828 observations to process; with 10000 unique items."
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#creating popularity model\n",
    "popularity_model = graphlab.popularity_recommender.create(training_data, user_id='user_id', item_id='book_id', target='rating')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1550.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1550.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1698.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1698.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1770.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1770.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1669.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1669.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1609.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1609.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1626.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1626.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1660.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1660.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1681.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1681.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1701.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1701.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1703.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1703.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1685.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1685.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1699.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1699.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1709.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1709.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1717.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1717.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1722.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1722.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1732.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1732.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1740.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1740.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1750.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1750.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1759.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1759.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1765.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1765.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1770.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1770.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1775.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1775.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1781.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1781.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1788.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1788.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1792.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1792.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1798.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1798.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1804.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1804.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1806.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1806.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1808.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1808.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1812.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1812.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1814.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1814.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1816.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1816.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1817.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1817.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1819.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1819.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1822.62</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1822.62"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1824.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1824.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1826.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1826.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1820.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1820.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1823.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1823.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1824.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1824.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1826.62</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1826.62"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1828.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1828.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1829.59</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1829.59"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1830.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1830.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1830.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1830.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1832.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1832.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1832.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1832.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1832.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1832.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1833.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1833.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1831.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1831.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1832.81</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1832.81"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1834.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1834.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1830.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1830.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1919.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1919.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1898.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1898.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1869.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1869.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1872.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1872.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1835.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1835.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1839.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1839.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1847.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1847.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1860.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1860.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1864.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1864.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1874.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1874.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1845.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1845.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1761.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1761.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1756.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1756.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1745.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1745.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1746.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1746.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1746.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1746.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1705.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1705.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1650.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1650.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1618.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1618.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1609.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1609.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1598.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1598.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1607.1</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1607.1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1610.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1610.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1593.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1593.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1584.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1584.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1574.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1574.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1560.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1560.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1553.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1553.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1557.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1557.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1566.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1566.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1567.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1567.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1571.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1571.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1578.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1578.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1538.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1538.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1530.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1530.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1527.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1527.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1518.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1518.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1511.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1511.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1514.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1514.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1521.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1521.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1526.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1526.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1516.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1516.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1513.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1513.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1521.24</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1521.24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1516.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1516.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1512.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1512.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1517.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1517.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1519</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1519"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1514.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1514.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1507.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1507.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1506.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1506.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1510.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1510.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1504.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1504.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "view = popularity_model.views.evaluate(validation_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "total_rating_csv_data.to_csv('C:/Users/SONY/Desktop/3rdsem/Machine Learning/project/DATA/new_rating_data.csv', sep='\\t')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "#to save the model\n",
    "popularity_model.save('C:/Users/SONY/Desktop/3rdsem/Machine Learning/project/New_Model/Popularity')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "PROGRESS: Evaluate model M0\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 103.292</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 103.292"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 190.156</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 190.156"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 267.371</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 267.371"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 339.488</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 339.488"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 405.463</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 405.463"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 436.653</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 436.653"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 489.294</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 489.294"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 537.969</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 537.969"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 584.607</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 584.607"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 628.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 628.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 664.705</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 664.705"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 697.077</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 697.077"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 727.059</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 727.059"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 760.204</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 760.204"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 790.529</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 790.529"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 820.553</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 820.553"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 847.654</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 847.654"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 874.338</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 874.338"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 899.397</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 899.397"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 924.092</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 924.092"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 947.148</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 947.148"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 968.061</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 968.061"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 988.887</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 988.887"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1008.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1008.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1027.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1027.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1044.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1044.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1062.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1062.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1078.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1078.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1094.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1094.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1109.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1109.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1124.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1124.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1138.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1138.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1151.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1151.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1164.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1164.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1176.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1176.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1188.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1188.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1200.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1200.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1212.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1212.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1222.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1222.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1233.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1233.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1244.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1244.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1254.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1254.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1264</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1264"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1272.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1272.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1281.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1281.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1290.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1290.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1297.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1297.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1302.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1302.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1307.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1307.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1313.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1313.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1320.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1320.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1326.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1326.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1330.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1330.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    |  0.099309234542 | 0.00680403160561 |\n",
      "|   2    | 0.0929444579644 |  0.012556729439  |\n",
      "|   3    | 0.0888073531889 | 0.0179450704873  |\n",
      "|   4    |  0.084974447294 | 0.0228185851914  |\n",
      "|   5    | 0.0818585147607 |  0.027334721244  |\n",
      "|   6    | 0.0789232295625 | 0.0315256495387  |\n",
      "|   7    | 0.0763719703797 | 0.0354790225655  |\n",
      "|   8    |  0.074208146914 | 0.0393443119324  |\n",
      "|   9    | 0.0719011754037 | 0.0428011341634  |\n",
      "|   10   | 0.0699488945881 | 0.0461707601855  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M1\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 200.944</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 200.944"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 342.846</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 342.846"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 466.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 466.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 565.773</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 565.773"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 652.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 652.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 726.248</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 726.248"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 792.155</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 792.155"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 851.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 851.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 902.615</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 902.615"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 951.372</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 951.372"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 993.632</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 993.632"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1028.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1028.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1063.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1063.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1094.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1094.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1122.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1122.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1149.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1149.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1173.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1173.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1195.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1195.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1215.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1215.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1236.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1236.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1253.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1253.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1269.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1269.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1284.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1284.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1297.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1297.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1310.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1310.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1323.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1323.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1335.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1335.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1346.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1346.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1356.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1356.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1367.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1367.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1377.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1377.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1386.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1386.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1395.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1395.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1404.29</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1404.29"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1412.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1412.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1420.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1420.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1428.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1428.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1435.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1435.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1441.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1441.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1447.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1447.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1453.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1453.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1460.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1460.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1466.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1466.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1471.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1471.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1477.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1477.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1482.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1482.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1487.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1487.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1492.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1492.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1497.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1497.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1501.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1501.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1506</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1506"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1510.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1510.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1513.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1513.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+----------------+-------------+\n",
      "| cutoff | mean_precision | mean_recall |\n",
      "+--------+----------------+-------------+\n",
      "|   1    |      0.0       |     0.0     |\n",
      "|   2    |      0.0       |     0.0     |\n",
      "|   3    |      0.0       |     0.0     |\n",
      "|   4    |      0.0       |     0.0     |\n",
      "|   5    |      0.0       |     0.0     |\n",
      "|   6    |      0.0       |     0.0     |\n",
      "|   7    |      0.0       |     0.0     |\n",
      "|   8    |      0.0       |     0.0     |\n",
      "|   9    |      0.0       |     0.0     |\n",
      "|   10   |      0.0       |     0.0     |\n",
      "+--------+----------------+-------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M2\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1527.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1527.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1729.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1729.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1843.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1843.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1898.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1898.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1920.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1920.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1930.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1930.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1918.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1918.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1924.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1924.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1936.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1936.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1946.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1946.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1949.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1949.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1945.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1945.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1948.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1948.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1951.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1951.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1954.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1954.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1956.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1956.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1960.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1960.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1961.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1961.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1963.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1963.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1955.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1955.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1958.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1958.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1964.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1964.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1953.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1953.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1953.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1953.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1955.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1955.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1945.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1945.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1938.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1938.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1938.77</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1938.77"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1941.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1941.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1942.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1942.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1941.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1941.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1944.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1944.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1946.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1946.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1948.78</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1948.78"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1950.82</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1950.82"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1954.88</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1954.88"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1957.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1957.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1958.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1958.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1961.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1961.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1961.02</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1961.02"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1963.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1963.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1965.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1965.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1966.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1966.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1968.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1968.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1969.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1969.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1969.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1969.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1971.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1971.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1971.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1971.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1972.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1972.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1973.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1973.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1974.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1974.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1974.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1974.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1975.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1975.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-------------------+-------------------+\n",
      "| cutoff |   mean_precision  |    mean_recall    |\n",
      "+--------+-------------------+-------------------+\n",
      "|   1    |  0.0010483161422  | 6.36604386624e-05 |\n",
      "|   2    | 0.000683277485539 | 9.14089340033e-05 |\n",
      "|   3    | 0.000630237680725 | 0.000125289821912 |\n",
      "|   4    |  0.00056159793332 | 0.000154181274548 |\n",
      "|   5    | 0.000539134015987 | 0.000180194204245 |\n",
      "|   6    | 0.000549117979246 | 0.000219340227379 |\n",
      "|   7    | 0.000673917519984 | 0.000305600887177 |\n",
      "|   8    | 0.000692637451094 | 0.000355048930547 |\n",
      "|   9    | 0.000648957611836 |  0.00037709152336 |\n",
      "|   10   | 0.000683277485539 | 0.000442294614557 |\n",
      "+--------+-------------------+-------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M3\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 226.509</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 226.509"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 394.804</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 394.804"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 529.339</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 529.339"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 641.778</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 641.778"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 733.618</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 733.618"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 812.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 812.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 877.705</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 877.705"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 937.696</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 937.696"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 990.387</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 990.387"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1003.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1003.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1040.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1040.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1055.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1055.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1067.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1067.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1066.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1066.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1067.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1067.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1073.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1073.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1072.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1072.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1073.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1073.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1069.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1069.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1070.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1070.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1071.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1071.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1076.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1076.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1080.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1080.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1081.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1081.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1093.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1093.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1109.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1109.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1124.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1124.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1138.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1138.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1152.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1152.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1165.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1165.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1178.51</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1178.51"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1190.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1190.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1202.87</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1202.87"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1213.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1213.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1223.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1223.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1233.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1233.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1244.38</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1244.38"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1255.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1255.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1264.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1264.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1272.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1272.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1281.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1281.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1290.11</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1290.11"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1297.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1297.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1305.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1305.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1312.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1312.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1318.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1318.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1325.22</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1325.22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1331.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1331.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1338.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1338.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1345.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1345.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1350.93</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1350.93"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1356.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1356.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1362.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1362.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    |  0.074261966716 | 0.00499146048176 |\n",
      "|   2    | 0.0707894194949 | 0.00943515322615 |\n",
      "|   3    | 0.0682279089213 |  0.013592049231  |\n",
      "|   4    | 0.0670594732211 | 0.0177331878247  |\n",
      "|   5    | 0.0654111832868 | 0.0216250272045  |\n",
      "|   6    | 0.0641313639966 | 0.0254106260961  |\n",
      "|   7    | 0.0631369790845 | 0.0291302761527  |\n",
      "|   8    | 0.0622882307793 | 0.0327935675517  |\n",
      "|   9    | 0.0614908137138 | 0.0364036675263  |\n",
      "|   10   | 0.0607742563507 | 0.0399632499695  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "Model compare metric: precision_recall\n"
     ]
    }
   ],
   "source": [
    "# Compairing Models\n",
    "model_performance = graphlab.compare(validation_data, [content_based_model,item_sim_model,popularity_model,model])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Canvas is accessible via web browser at the URL: http://localhost:36895/index.html\n",
      "Opening Canvas in default web browser.\n"
     ]
    }
   ],
   "source": [
    "graphlab.show_comparison(model_performance,[content_based_model,item_sim_model,popularity_model,model])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "PROGRESS: Evaluate model M0\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1886.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1886.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1888.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1888.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1909.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1909.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1901.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1901.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1896.49</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1896.49"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1886.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1886.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1862.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1862.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1857.63</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1857.63"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1866.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1866.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1852.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1852.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1843.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1843.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1827.12</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1827.12"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1819.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1819.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1823.13</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1823.13"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1825.34</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1825.34"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1829.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1829.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1821.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1821.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1815.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1815.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1794.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1794.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1769.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1769.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1759.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1759.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1758.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1758.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1765.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1765.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1768.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1768.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1775.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1775.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1781.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1781.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    |  0.099309234542 | 0.00680403160561 |\n",
      "|   2    | 0.0929444579644 |  0.012556729439  |\n",
      "|   3    | 0.0888073531889 | 0.0179450704873  |\n",
      "|   4    |  0.084974447294 | 0.0228185851914  |\n",
      "|   5    | 0.0818585147607 |  0.027334721244  |\n",
      "|   6    | 0.0789232295625 | 0.0315256495387  |\n",
      "|   7    | 0.0763719703797 | 0.0354790225655  |\n",
      "|   8    |  0.074208146914 | 0.0393443119324  |\n",
      "|   9    | 0.0719011754037 | 0.0428011341634  |\n",
      "|   10   | 0.0699488945881 | 0.0461707601855  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M1\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1786.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1786.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1792.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1792.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1797.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1797.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1802.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1802.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1806.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1806.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1810.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1810.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1814.62</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1814.62"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1819.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1819.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1825.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1825.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1827.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1827.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1830.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1830.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1833.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1833.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1836.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1836.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1838.53</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1838.53"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1841.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1841.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1845.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1845.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1848.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1848.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1852.26</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1852.26"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1855.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1855.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1856.56</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1856.56"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1858.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1858.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1859.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1859.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1861.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1861.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1864.5</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1864.5"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1867.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1867.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1869.17</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1869.17"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1869.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1869.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1273.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1273.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1300.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1300.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1312.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1312.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1313.71</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1313.71"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1322.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1322.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1328.55</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1328.55"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1323.2</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1323.2"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1261.06</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1261.06"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1178.6</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1178.6"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1152.48</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1152.48"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1123.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1123.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1104.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1104.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1115.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1115.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1127.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1127.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1138.97</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1138.97"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1141.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1141.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1151.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1151.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1159.18</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1159.18"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1155.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1155.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1118.31</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1118.31"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1124.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1124.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1116.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1116.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1058.35</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1058.35"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1070.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1070.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1084.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1084.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1099.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1099.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 1116.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 1116.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 1130.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 1130.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 1142.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 1142.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 1101.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 1101.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 1112.05</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 1112.05"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 1122.4</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 1122.4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 1131.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 1131.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 1141.42</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 1141.42"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 1151.91</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 1151.91"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1160.76</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1160.76"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1170.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1170.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1179.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1179.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1181.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1181.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1122.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1122.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1095.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1095.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1056.73</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1056.73"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1067.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1067.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1077.36</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1077.36"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1087.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1087.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1096.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1096.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1106.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1106.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1116</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1116"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1125.15</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1125.15"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1130.84</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1130.84"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1102.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1102.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1061.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1061.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1043.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1043.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+----------------+-------------+\n",
      "| cutoff | mean_precision | mean_recall |\n",
      "+--------+----------------+-------------+\n",
      "|   1    |      0.0       |     0.0     |\n",
      "|   2    |      0.0       |     0.0     |\n",
      "|   3    |      0.0       |     0.0     |\n",
      "|   4    |      0.0       |     0.0     |\n",
      "|   5    |      0.0       |     0.0     |\n",
      "|   6    |      0.0       |     0.0     |\n",
      "|   7    |      0.0       |     0.0     |\n",
      "|   8    |      0.0       |     0.0     |\n",
      "|   9    |      0.0       |     0.0     |\n",
      "|   10   |      0.0       |     0.0     |\n",
      "+--------+----------------+-------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M2\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 1194.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 1194.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1298.37</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1298.37"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1376.14</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1376.14"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1397.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1397.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1384.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1384.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1401.61</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1401.61"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1418.57</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1418.57"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1423.74</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1423.74"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1431.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1431.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1438.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1438.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1439.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1439.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1444.04</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1444.04"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1452.16</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1452.16"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1446.28</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1446.28"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1447.95</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1447.95"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1425.99</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1425.99"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1412.92</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1412.92"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1393.86</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1393.86"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1393.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1393.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1400.39</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1400.39"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1233.32</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1233.32"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1254.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1254.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 745.913</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 745.913"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 686.437</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 686.437"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 703.933</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 703.933"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 720.635</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 720.635"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 687.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 687.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 703.639</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 703.639"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 718.501</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 718.501"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 733.056</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 733.056"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 747.362</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 747.362"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 761.115</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 761.115"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 774.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 774.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 787.218</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 787.218"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 799.803</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 799.803"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 790.782</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 790.782"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 802.953</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 802.953"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 814.815</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 814.815"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 825.677</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 825.677"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 836.862</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 836.862"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 846.516</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 846.516"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 855.96</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 855.96"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 827.986</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 827.986"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 838.786</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 838.786"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 848.542</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 848.542"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 840.635</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 840.635"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 849.54</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 849.54"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 860.049</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 860.049"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 868.039</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 868.039"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 864.529</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 864.529"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 861.992</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 861.992"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 858.89</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 858.89"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 855.9</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 855.9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-------------------+-------------------+\n",
      "| cutoff |   mean_precision  |    mean_recall    |\n",
      "+--------+-------------------+-------------------+\n",
      "|   1    |  0.0010483161422  | 6.36604386624e-05 |\n",
      "|   2    | 0.000683277485539 | 9.14089340033e-05 |\n",
      "|   3    | 0.000630237680725 | 0.000125289821912 |\n",
      "|   4    |  0.00056159793332 | 0.000154181274548 |\n",
      "|   5    | 0.000539134015987 | 0.000180194204245 |\n",
      "|   6    | 0.000549117979246 | 0.000219340227379 |\n",
      "|   7    | 0.000673917519984 | 0.000305600887177 |\n",
      "|   8    | 0.000692637451094 | 0.000355048930547 |\n",
      "|   9    | 0.000648957611836 |  0.00037709152336 |\n",
      "|   10   | 0.000683277485539 | 0.000442294614557 |\n",
      "+--------+-------------------+-------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "PROGRESS: Evaluate model M3\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 1000/53419 queries. users per second: 997.947</pre>"
      ],
      "text/plain": [
       "recommendations finished on 1000/53419 queries. users per second: 997.947"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 2000/53419 queries. users per second: 1146.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 2000/53419 queries. users per second: 1146.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 3000/53419 queries. users per second: 1212.23</pre>"
      ],
      "text/plain": [
       "recommendations finished on 3000/53419 queries. users per second: 1212.23"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 4000/53419 queries. users per second: 1244.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 4000/53419 queries. users per second: 1244.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 5000/53419 queries. users per second: 1267.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 5000/53419 queries. users per second: 1267.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 6000/53419 queries. users per second: 1271.52</pre>"
      ],
      "text/plain": [
       "recommendations finished on 6000/53419 queries. users per second: 1271.52"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 7000/53419 queries. users per second: 1272.7</pre>"
      ],
      "text/plain": [
       "recommendations finished on 7000/53419 queries. users per second: 1272.7"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 8000/53419 queries. users per second: 1283.64</pre>"
      ],
      "text/plain": [
       "recommendations finished on 8000/53419 queries. users per second: 1283.64"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 9000/53419 queries. users per second: 1295.69</pre>"
      ],
      "text/plain": [
       "recommendations finished on 9000/53419 queries. users per second: 1295.69"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 10000/53419 queries. users per second: 1301.3</pre>"
      ],
      "text/plain": [
       "recommendations finished on 10000/53419 queries. users per second: 1301.3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 11000/53419 queries. users per second: 1301.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 11000/53419 queries. users per second: 1301.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 12000/53419 queries. users per second: 1297.27</pre>"
      ],
      "text/plain": [
       "recommendations finished on 12000/53419 queries. users per second: 1297.27"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 13000/53419 queries. users per second: 1292.68</pre>"
      ],
      "text/plain": [
       "recommendations finished on 13000/53419 queries. users per second: 1292.68"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 14000/53419 queries. users per second: 1293.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 14000/53419 queries. users per second: 1293.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 15000/53419 queries. users per second: 1293.44</pre>"
      ],
      "text/plain": [
       "recommendations finished on 15000/53419 queries. users per second: 1293.44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 16000/53419 queries. users per second: 1292.46</pre>"
      ],
      "text/plain": [
       "recommendations finished on 16000/53419 queries. users per second: 1292.46"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 17000/53419 queries. users per second: 1297.47</pre>"
      ],
      "text/plain": [
       "recommendations finished on 17000/53419 queries. users per second: 1297.47"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 18000/53419 queries. users per second: 1273.08</pre>"
      ],
      "text/plain": [
       "recommendations finished on 18000/53419 queries. users per second: 1273.08"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 19000/53419 queries. users per second: 1286.58</pre>"
      ],
      "text/plain": [
       "recommendations finished on 19000/53419 queries. users per second: 1286.58"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 20000/53419 queries. users per second: 1292.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 20000/53419 queries. users per second: 1292.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 21000/53419 queries. users per second: 1279.8</pre>"
      ],
      "text/plain": [
       "recommendations finished on 21000/53419 queries. users per second: 1279.8"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 22000/53419 queries. users per second: 1282.65</pre>"
      ],
      "text/plain": [
       "recommendations finished on 22000/53419 queries. users per second: 1282.65"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 23000/53419 queries. users per second: 1285.79</pre>"
      ],
      "text/plain": [
       "recommendations finished on 23000/53419 queries. users per second: 1285.79"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 24000/53419 queries. users per second: 1293.43</pre>"
      ],
      "text/plain": [
       "recommendations finished on 24000/53419 queries. users per second: 1293.43"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 25000/53419 queries. users per second: 1278.33</pre>"
      ],
      "text/plain": [
       "recommendations finished on 25000/53419 queries. users per second: 1278.33"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 26000/53419 queries. users per second: 1015.41</pre>"
      ],
      "text/plain": [
       "recommendations finished on 26000/53419 queries. users per second: 1015.41"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 27000/53419 queries. users per second: 910.339</pre>"
      ],
      "text/plain": [
       "recommendations finished on 27000/53419 queries. users per second: 910.339"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 28000/53419 queries. users per second: 923.827</pre>"
      ],
      "text/plain": [
       "recommendations finished on 28000/53419 queries. users per second: 923.827"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 29000/53419 queries. users per second: 933.425</pre>"
      ],
      "text/plain": [
       "recommendations finished on 29000/53419 queries. users per second: 933.425"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 30000/53419 queries. users per second: 943.441</pre>"
      ],
      "text/plain": [
       "recommendations finished on 30000/53419 queries. users per second: 943.441"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 31000/53419 queries. users per second: 955.032</pre>"
      ],
      "text/plain": [
       "recommendations finished on 31000/53419 queries. users per second: 955.032"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 32000/53419 queries. users per second: 965.275</pre>"
      ],
      "text/plain": [
       "recommendations finished on 32000/53419 queries. users per second: 965.275"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 33000/53419 queries. users per second: 977.341</pre>"
      ],
      "text/plain": [
       "recommendations finished on 33000/53419 queries. users per second: 977.341"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 34000/53419 queries. users per second: 988.473</pre>"
      ],
      "text/plain": [
       "recommendations finished on 34000/53419 queries. users per second: 988.473"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 35000/53419 queries. users per second: 999.428</pre>"
      ],
      "text/plain": [
       "recommendations finished on 35000/53419 queries. users per second: 999.428"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 36000/53419 queries. users per second: 1009.66</pre>"
      ],
      "text/plain": [
       "recommendations finished on 36000/53419 queries. users per second: 1009.66"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 37000/53419 queries. users per second: 1020.07</pre>"
      ],
      "text/plain": [
       "recommendations finished on 37000/53419 queries. users per second: 1020.07"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 38000/53419 queries. users per second: 1029.75</pre>"
      ],
      "text/plain": [
       "recommendations finished on 38000/53419 queries. users per second: 1029.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 39000/53419 queries. users per second: 1040.98</pre>"
      ],
      "text/plain": [
       "recommendations finished on 39000/53419 queries. users per second: 1040.98"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 41000/53419 queries. users per second: 1048.21</pre>"
      ],
      "text/plain": [
       "recommendations finished on 41000/53419 queries. users per second: 1048.21"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 40000/53419 queries. users per second: 1050.03</pre>"
      ],
      "text/plain": [
       "recommendations finished on 40000/53419 queries. users per second: 1050.03"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 42000/53419 queries. users per second: 1033.25</pre>"
      ],
      "text/plain": [
       "recommendations finished on 42000/53419 queries. users per second: 1033.25"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 43000/53419 queries. users per second: 1042.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 43000/53419 queries. users per second: 1042.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 44000/53419 queries. users per second: 1047.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 44000/53419 queries. users per second: 1047.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 45000/53419 queries. users per second: 1055.19</pre>"
      ],
      "text/plain": [
       "recommendations finished on 45000/53419 queries. users per second: 1055.19"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 46000/53419 queries. users per second: 1062.83</pre>"
      ],
      "text/plain": [
       "recommendations finished on 46000/53419 queries. users per second: 1062.83"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 47000/53419 queries. users per second: 1070.67</pre>"
      ],
      "text/plain": [
       "recommendations finished on 47000/53419 queries. users per second: 1070.67"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 48000/53419 queries. users per second: 1077.09</pre>"
      ],
      "text/plain": [
       "recommendations finished on 48000/53419 queries. users per second: 1077.09"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 49000/53419 queries. users per second: 1081.01</pre>"
      ],
      "text/plain": [
       "recommendations finished on 49000/53419 queries. users per second: 1081.01"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 50000/53419 queries. users per second: 1082.85</pre>"
      ],
      "text/plain": [
       "recommendations finished on 50000/53419 queries. users per second: 1082.85"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 51000/53419 queries. users per second: 1086.45</pre>"
      ],
      "text/plain": [
       "recommendations finished on 51000/53419 queries. users per second: 1086.45"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 52000/53419 queries. users per second: 1089.94</pre>"
      ],
      "text/plain": [
       "recommendations finished on 52000/53419 queries. users per second: 1089.94"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre>recommendations finished on 53000/53419 queries. users per second: 1093.72</pre>"
      ],
      "text/plain": [
       "recommendations finished on 53000/53419 queries. users per second: 1093.72"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Precision and recall summary statistics by cutoff\n",
      "+--------+-----------------+------------------+\n",
      "| cutoff |  mean_precision |   mean_recall    |\n",
      "+--------+-----------------+------------------+\n",
      "|   1    |  0.074261966716 | 0.00499146048176 |\n",
      "|   2    | 0.0707894194949 | 0.00943515322615 |\n",
      "|   3    | 0.0682279089213 |  0.013592049231  |\n",
      "|   4    | 0.0670594732211 | 0.0177331878247  |\n",
      "|   5    | 0.0654111832868 | 0.0216250272045  |\n",
      "|   6    | 0.0641313639966 | 0.0254106260961  |\n",
      "|   7    | 0.0631369790845 | 0.0291302761527  |\n",
      "|   8    | 0.0622882307793 | 0.0327935675516  |\n",
      "|   9    | 0.0614908137138 | 0.0364036675263  |\n",
      "|   10   | 0.0607742563507 | 0.0399632499695  |\n",
      "+--------+-----------------+------------------+\n",
      "[10 rows x 3 columns]\n",
      "\n",
      "Model compare metric: precision_recall\n"
     ]
    }
   ],
   "source": [
    "# Compairing Models\n",
    "model_performance_rmse = graphlab.compare(validation_data, [content_based_model,item_sim_model,popularity_model,model],target='rating',make_plot=True )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 2",
   "language": "python",
   "name": "python2"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.13"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 0
}
